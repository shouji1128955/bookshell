"use strict";(self.webpackChunkbookshell=self.webpackChunkbookshell||[]).push([[8380],{3905:(a,l,e)=>{e.d(l,{Zo:()=>_,kt:()=>d});var c=e(7294);function t(a,l,e){return l in a?Object.defineProperty(a,l,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[l]=e,a}function n(a,l){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);l&&(c=c.filter((function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable}))),e.push.apply(e,c)}return e}function o(a){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?n(Object(e),!0).forEach((function(l){t(a,l,e[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(e,l))}))}return a}function i(a,l){if(null==a)return{};var e,c,t=function(a,l){if(null==a)return{};var e,c,t={},n=Object.keys(a);for(c=0;c<n.length;c++)e=n[c],l.indexOf(e)>=0||(t[e]=a[e]);return t}(a,l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(c=0;c<n.length;c++)e=n[c],l.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(a,e)&&(t[e]=a[e])}return t}var s=c.createContext({}),r=function(a){var l=c.useContext(s),e=l;return a&&(e="function"==typeof a?a(l):o(o({},l),a)),e},_=function(a){var l=r(a.components);return c.createElement(s.Provider,{value:l},a.children)},m="mdxType",h={inlineCode:"code",wrapper:function(a){var l=a.children;return c.createElement(c.Fragment,{},l)}},g=c.forwardRef((function(a,l){var e=a.components,t=a.mdxType,n=a.originalType,s=a.parentName,_=i(a,["components","mdxType","originalType","parentName"]),m=r(e),g=t,d=m["".concat(s,".").concat(g)]||m[g]||h[g]||n;return e?c.createElement(d,o(o({ref:l},_),{},{components:e})):c.createElement(d,o({ref:l},_))}));function d(a,l){var e=arguments,t=l&&l.mdxType;if("string"==typeof a||t){var n=e.length,o=new Array(n);o[0]=g;var i={};for(var s in l)hasOwnProperty.call(l,s)&&(i[s]=l[s]);i.originalType=a,i[m]="string"==typeof a?a:t,o[1]=i;for(var r=2;r<n;r++)o[r]=e[r];return c.createElement.apply(null,o)}return c.createElement.apply(null,e)}g.displayName="MDXCreateElement"},3927:(a,l,e)=>{e.r(l),e.d(l,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>n,metadata:()=>i,toc:()=>r});var c=e(7462),t=(e(7294),e(3905));const n={},o=void 0,i={unversionedId:"Sre/\u65e5\u5e38\u8fd0\u7ef4/clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165",id:"Sre/\u65e5\u5e38\u8fd0\u7ef4/clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165",title:"clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165",description:"\u6545\u969c\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4",source:"@site/docs/Sre/1-\u65e5\u5e38\u8fd0\u7ef4/6.clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165.md",sourceDirName:"Sre/1-\u65e5\u5e38\u8fd0\u7ef4",slug:"/Sre/\u65e5\u5e38\u8fd0\u7ef4/clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165",permalink:"/docs/Sre/\u65e5\u5e38\u8fd0\u7ef4/clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Sre/1-\u65e5\u5e38\u8fd0\u7ef4/6.clickhouse\u96c6\u7fa4\u8282\u70b9\u91cd\u65b0\u52a0\u5165.md",tags:[],version:"current",lastUpdatedBy:"AMiner",lastUpdatedAt:1719072900,formattedLastUpdatedAt:"2024\u5e746\u670822\u65e5",sidebarPosition:6,frontMatter:{},sidebar:"SreOper",previous:{title:"\u811a\u672c\u7ba1\u7406",permalink:"/docs/Sre/\u65e5\u5e38\u8fd0\u7ef4/\u811a\u672c\u7ba1\u7406"},next:{title:"conflunce\u5b89\u88c5",permalink:"/docs/Sre/\u65e5\u5e38\u8fd0\u7ef4/conflunce\u5b89\u88c5"}},s={},r=[{value:"\u6545\u969c\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4",id:"\u6545\u969c\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4",level:2},{value:"1\u3001\u5f53\u524d\u73b0\u72b6",id:"1\u5f53\u524d\u73b0\u72b6",level:3},{value:"1.1\u3001\u73b0\u72b6\u60c5\u51b5\uff1a",id:"11\u73b0\u72b6\u60c5\u51b5",level:4},{value:"1.2\u3001\u5143\u6570\u636e\u8868\u6587\u4ef6\u8fc1\u79fb\u5230clickhouse03",id:"12\u5143\u6570\u636e\u8868\u6587\u4ef6\u8fc1\u79fb\u5230clickhouse03",level:4},{value:"1.3\u3001\u5143\u6570\u636e\u5e93\u6587\u4ef6\u8fc1\u79fbclickhouse03",id:"13\u5143\u6570\u636e\u5e93\u6587\u4ef6\u8fc1\u79fbclickhouse03",level:4},{value:"1.4 \u6570\u636e\u5e93\u5bf9\u6bd4",id:"14-\u6570\u636e\u5e93\u5bf9\u6bd4",level:4},{value:"1.5\u3001\u542f\u52a8\u670d\u52a1",id:"15\u542f\u52a8\u670d\u52a1",level:4},{value:"2\u3001\u670d\u52a1\u542f\u52a8\u540e\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u4fee\u590d",id:"2\u670d\u52a1\u542f\u52a8\u540e\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u4fee\u590d",level:3},{value:"2.1\u3001clickhouse\u542f\u52a8\u540e\u7684\u95ee\u9898\u6536\u96c6\u6c47\u603b",id:"21clickhouse\u542f\u52a8\u540e\u7684\u95ee\u9898\u6536\u96c6\u6c47\u603b",level:4},{value:"2.2\u3001\u7edf\u8ba1\u53ea\u8bfb\u8868",id:"22\u7edf\u8ba1\u53ea\u8bfb\u8868",level:4},{value:"2.3\u3001\u6838\u5b9e\u53ea\u8bfb\u8868\u6b63\u5e38\u526f\u672c\u8282\u70b9\u7684\u6570\u636e\u91cf",id:"23\u6838\u5b9e\u53ea\u8bfb\u8868\u6b63\u5e38\u526f\u672c\u8282\u70b9\u7684\u6570\u636e\u91cf",level:4},{value:"2.4\u3001\u6267\u884cRestore Replica",id:"24\u6267\u884crestore-replica",level:4},{value:"2.5\u3001\u6536\u96c6<strong>Restore Replica</strong> \u4e4b\u540e\u5b58\u5728\u5f02\u5e38\u7684\u8868",id:"25\u6536\u96c6restore-replica-\u4e4b\u540e\u5b58\u5728\u5f02\u5e38\u7684\u8868",level:4},{value:"2.6\u3001\u4e0d\u4e00\u81f4\u8868\u95ee\u9898\u5904\u7406",id:"26\u4e0d\u4e00\u81f4\u8868\u95ee\u9898\u5904\u7406",level:4},{value:"2.7\u3001\u6570\u636e\u6bd4\u5bf9",id:"27\u6570\u636e\u6bd4\u5bf9",level:4},{value:"3\u3001\u540c\u6b65\u60c5\u51b5",id:"3\u540c\u6b65\u60c5\u51b5",level:3}],_={toc:r},m="wrapper";function h(a){let{components:l,...e}=a;return(0,t.kt)(m,(0,c.Z)({},_,e,{components:l,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"\u6545\u969c\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4"},"\u6545\u969c\u8282\u70b9\u91cd\u65b0\u52a0\u5165\u96c6\u7fa4"),(0,t.kt)("h3",{id:"1\u5f53\u524d\u73b0\u72b6"},"1\u3001\u5f53\u524d\u73b0\u72b6"),(0,t.kt)("h4",{id:"11\u73b0\u72b6\u60c5\u51b5"},"1.1\u3001\u73b0\u72b6\u60c5\u51b5\uff1a"),(0,t.kt)("p",null,"\u7531\u4e8e\u4e4b\u524dclickhouse03\u8282\u70b9\u78c1\u76d8\u76f4\u63a5\u6253\u6ee1\uff0c\u8282\u70b9\u505c\u6b62\u5927\u6982\u4e8c\u5341\u5929\u65f6\u95f4\uff0c\u5c40\u9650\u4e8e\u6269\u5bb9\u78c1\u76d8\uff0c\u56e0\u4e3a\u5176\u4ed6\u8282\u70b9\u6e05\u7406\u5386\u53f2\u7684\u6570\u636e\uff0c\u6240\u4ee5\u817e\u51fa\u6765\u4e86\u7a7a\u95f4\uff0c\u6211\u4eec\u73b0\u5728\u9700\u8981\u5bf9clickhouse03\u8282\u70b9\u505a\u5b8c\u5feb\u7167\u540e\uff0c\u9700\u8981\u505a\u6570\u636e\u540c\u6b65."),(0,t.kt)("table",null,(0,t.kt)("thead",{parentName:"table"},(0,t.kt)("tr",{parentName:"thead"},(0,t.kt)("th",{parentName:"tr",align:null},"\u96c6\u7fa4\u8282\u70b9"),(0,t.kt)("th",{parentName:"tr",align:null},"\u73b0\u72b6"),(0,t.kt)("th",{parentName:"tr",align:null},"\u5206\u7247\u526f\u672c"))),(0,t.kt)("tbody",{parentName:"table"},(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:null},"clickhouse01"),(0,t.kt)("td",{parentName:"tr",align:null},"\u8282\u70b9\u6b63\u5e38"),(0,t.kt)("td",{parentName:"tr",align:null},"\u5206\u72471\uff0c\u526f\u672c1")),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:null},"clickhouse02"),(0,t.kt)("td",{parentName:"tr",align:null},"\u8282\u70b9\u6b63\u5e38"),(0,t.kt)("td",{parentName:"tr",align:null},"\u5206\u72471\uff0c\u526f\u672c2")),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:null},"clickhouse03"),(0,t.kt)("td",{parentName:"tr",align:null},"\u8282\u70b9\u6545\u969c(\u78c1\u76d8\u505a\u4e86\u5feb\u7167)"),(0,t.kt)("td",{parentName:"tr",align:null},"\u5206\u72472\uff0c\u526f\u672c1")),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:null},"clickhouse04"),(0,t.kt)("td",{parentName:"tr",align:null},"\u8282\u70b9\u6b63\u5e38"),(0,t.kt)("td",{parentName:"tr",align:null},"\u5206\u72472\uff0c\u526f\u672c2")))),(0,t.kt)("p",null,"\u9700\u8981\u7684\u64cd\u4f5c\uff0c\u9700\u8981\u5c06\u6570\u636e\u4ececlickhouse04 \u540c\u6b65\u5143\u6570\u636e\u5230clickhouse03\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684store\u76ee\u5f55\u4e2d\u7684\u6570\u636e"),(0,t.kt)("h4",{id:"12\u5143\u6570\u636e\u8868\u6587\u4ef6\u8fc1\u79fb\u5230clickhouse03"},"1.2\u3001\u5143\u6570\u636e\u8868\u6587\u4ef6\u8fc1\u79fb\u5230clickhouse03"),(0,t.kt)("p",null,"\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u79cd,*.sql\u8fd9\u79cd\u662f\u6570\u636e\u5b9a\u4e49\u7684,\u9700\u8981\u8fc1\u79fb\u5230clickhouse03\u5bf9\u5e94\u7684\u76ee\u5f55,\u4ee5\u53ca\u5e93\u6240\u5bf9\u5e94\u7684\u8f6f\u94fe\u63a5\u6587\u4ef6,\u90fd\u8981\u8fc1\u79fb\u5230clickhouse03\u5bf9\u5e94\u7684\u76ee\u5f55"),(0,t.kt)("p",null,"\u5c31\u662f\u7c7b\u4f3c\u4e0b\u9762\u7684\u8fd9\u79cd\u6570\u636e"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224150940700.png",alt:"image-20231224150940700"})),(0,t.kt)("p",null,"#clickhouse03\u8282\u70b9\u64cd\u4f5c:   "),(0,t.kt)("p",null,"\u5907\u4efd\u539f\u6765\u7684\u65e7\u6570\u636e /data/container/clickhouse/data/store/\u4e0b\u9762\u7684\u6240\u6709\u6587\u4ef6"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p /root/clickhouse-20231223bak\ncd /data/container/clickhouse/data/store\nmv  * /root/clickhouse-20231223bak/\n")),(0,t.kt)("p",null,"#clickhouse04\u8282\u70b9\u5bfc\u51fa\u6570\u636e\u5230clickhouse03\n#\u62f7\u8d1d\u5143\u6570\u636e\u76ee\u5f55\u5230clickhouse03\n#\u6253\u5370\u786e\u8ba4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"cd /data/container/clickhouse/data/metadata/\nls -l |egrep  -v 'default|system' | awk '{print $NF}' | grep -w  data | awk '{print $7}'\nfor i in `ls -l |egrep  -v 'default|system' | awk '{print $NF}' | grep -w '/data/container/clickhouse' |  awk -F '/' '{print $7}'`; do  rsync -rvza -e \"ssh -p 2022\"  /data/container/clickhouse/data/store/${i}  root@192.168.0.150:/data/container/clickhouse/data/store/ ;done\n\n")),(0,t.kt)("h4",{id:"13\u5143\u6570\u636e\u5e93\u6587\u4ef6\u8fc1\u79fbclickhouse03"},"1.3\u3001\u5143\u6570\u636e\u5e93\u6587\u4ef6\u8fc1\u79fbclickhouse03"),(0,t.kt)("p",null,"##\u6253\u5370\u786e\u8ba4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"cd /data/container/clickhouse/metadata/\nls -l |egrep  -v 'default|system|information_schema|INFORMATION_SCHEMA' | egrep [a-z,A-Z,0-9,_]+.sql | awk '{print $NF}' \n")),(0,t.kt)("p",null,"clickhouse03\u8282\u70b9\u64cd\u4f5c:"),(0,t.kt)("p",null,"\u5907\u4efd\u539f\u6765\u7684\u65e7\u6570\u636e /data/container/clickhouse/data/metadata/\u4e0b\u9762\u7684\u6240\u6709\u6587\u4ef6"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"#\u4fdd\u7559system, default\u76f8\u5173\u7684\u5e93\u6587\u4ef6\u548c\u6570\u636e\u8868\u6587\u4ef6,\u5f02\u9664\u5176\u4ed6\u6ca1\u7528\u7684\u8282\u70b9\n\ncp metadata metadata.bak  -r\nmv blmdq20231128* ckhdq20200728* data_platform* dghhdq20200728* ghzhl20200602* hdhdq20200728* /tmp/\nmv kchtljzdqxxssfjc20231127*  lj* nw* /tmp/\n")),(0,t.kt)("p",null,"#clickhouse04\u8282\u70b9\u64cd\u4f5c"),(0,t.kt)("p",null,"\u540c\u6b65\u6570\u636e"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"for i in `ls -l |egrep  -v 'default|system|information_schema|INFORMATION_SCHEMA' | egrep [a-z,A-Z,0-9,_]+.sql | awk '{print $NF}'`; do  rsync -rvza -e \"ssh -p 2022\"  ${i}  root@192.168.0.150:/data/container/clickhouse/data/metadata/ ;done\n")),(0,t.kt)("h4",{id:"14-\u6570\u636e\u5e93\u5bf9\u6bd4"},"1.4 \u6570\u636e\u5e93\u5bf9\u6bd4"),(0,t.kt)("p",null," \u4e3b\u8981\u662f\u6bd4\u5bf9\u8fc1\u79fb\u524d\u540e\u6570\u636e\u5e93\u7684\u662f\u5426\u4e00\u6837"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/img-2023-12-24-320.gif",alt:null})),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"106\u4e2a\u5e93  --- show databases   # clickhouse04\u8282\u70b9\u7edf\u8ba1\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"101\u4e2a\u5e93  --- \u8fc1\u79fb(\u6392\u9664,system, default,information_schema,INFORMATION_SCHEMA,) # \u9700\u8981\u8fc1\u79fb\u7684\u5e93\n")),(0,t.kt)("h4",{id:"15\u542f\u52a8\u670d\u52a1"},"1.5\u3001\u542f\u52a8\u670d\u52a1"),(0,t.kt)("p",null,"\u6388\u6743\u540c\u6b65\u540e\u7684\u6743\u9650"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"\nchown -R  clickhouse:clickhouse  /data/container/clickhouse/data\n\nchown clickhouse:clickhouse  /data2/container/clickhouse -R \n\nchown clickhouse:clickhouse  /data3/container/clickhouse -R\n")),(0,t.kt)("p",null,"\u542f\u52a8\u670d\u52a1"),(0,t.kt)("p",null,"systemctl start clickhouse-server"),(0,t.kt)("p",null,"#\u6388\u6743\u7528\u6237 \u6839\u636e\u62a5\u9519,\u9700\u8981\u6388\u6743\u7528\u6237"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224152832117.png",alt:"image-20231224152832117"})),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shel"},"GRANT INSERT ON *.* TO d2c;\n")),(0,t.kt)("h3",{id:"2\u670d\u52a1\u542f\u52a8\u540e\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u4fee\u590d"},"2\u3001\u670d\u52a1\u542f\u52a8\u540e\u7684\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\u4fee\u590d"),(0,t.kt)("h4",{id:"21clickhouse\u542f\u52a8\u540e\u7684\u95ee\u9898\u6536\u96c6\u6c47\u603b"},"2.1\u3001clickhouse\u542f\u52a8\u540e\u7684\u95ee\u9898\u6536\u96c6\u6c47\u603b"),(0,t.kt)("p",null,"\u670d\u52a1\u5668\u542f\u52a8\u540e\u9047\u5230\u4e00\u4e9b\u95ee\u9898\uff0c\u6b64\u5904\u9700\u8981\u6839\u636e\u62a5\u9519\u4fee\u590d"),(0,t.kt)("p",null,"\u6839\u636e\u4e0b\u9762\u7684\u62a5\u9519\uff0c\u5c31\u80fd\u770b\u51fa\uff0c\u76ee\u524d\u5f88\u591a\u7684\u5206\u5e03\u5f0f\u8868\u5df2\u7ecf\u5904\u4e8ereadonly \u6a21\u5f0f\uff0c \u5c31\u662f\u5728zk\u4e2d\u6ca1\u627e\u5230\u5143\u6570\u636e\uff0c\u53ef\u80fd\u539f\u56e0\u5c31\u662fzk\u7684\u8d85\u65f6\u673a\u5236\uff0c\u7531\u4e8e\u8be5\u8282\u70b9\u5b95\u673a\u65f6\u95f4\u8fc7\u957f\u5bfc\u81f4\u7684\u95ee\u9898\u3002"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224152958677.png",alt:"image-20231224152958677"})),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u5728zk\u4e2d\u9a8c\u8bc1\u662f\u5426\u662f\u771f\u7684\u4e0d\u5b58\u5728"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'zkCli.sh -server 127.0.0.1:3181  #\u767b\u5f55zk\u9a8c\u8bc1\n/clickhouse/01-02/tables/"ghzhl20200602".TempHumiContData_local/replicas/\n')),(0,t.kt)("p",null,"\u5982\u56fe\uff0c\u786e\u5b9e\u770b\u4e0d\u5230\u53e6\u5916\u4e00\u4e2ackc03\u8282\u70b9\u7684\u5143\u6570\u636e\uff0c\u8fd9\u79cd\u7684\u53ef\u4ee5\u4fee\u590d\u3002"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224153152598.png",alt:null})),(0,t.kt)("p",null,"\u6211\u63a5\u7740\u5728\u9a8c\u8bc1\u4e00\u4e2a\u8868\uff0c\u7ed3\u679c\u5982\u4e0b\uff0c\u540c\u6837\u7684\u95ee\u9898\u3002\u90a3\u63a5\u4e0b\u6765\uff0c\u5c31\u9700\u8981\u901a\u8fc7\u811a\u672c\u7684\u65b9\u5f0f\uff0c\u6279\u91cf\u5316\u5148\u64cd\u4f5c\u4e00\u6b21\uff0c\u5e76\u89c2\u5bdf\u64cd\u4f5c\u4e2d\u51fa\u73b0\u7684\u5f02\u5e38\u65e5\u5fd7\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'/clickhouse/01-02/tables/"ghzhl20200602".TempHumiContData_local/replicas\n')),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224153402785.png",alt:null})),(0,t.kt)("h4",{id:"22\u7edf\u8ba1\u53ea\u8bfb\u8868"},"2.2\u3001\u7edf\u8ba1\u53ea\u8bfb\u8868"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u7edf\u8ba1clickhouse03\u53ea\u8bfb\u8868")),(0,t.kt)("p",null,"select table,zookeeper_path,replica_path from ",(0,t.kt)("inlineCode",{parentName:"p"},"system"),".replicas where is_readonly"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'root@clickhouse03:~# clickhouse-client -q \'select table,zookeeper_path,replica_path from `system`.replicas where is_readonly\'\nHOS_4000_calc_params    /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params/replicas/ekc03\nHOS_4000_calc_params_new    /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params_new /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params_new/replicas/ekc03\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"bjhdq20200722".IncliHCF2000V1_calc_params   /clickhouse/a-a/tables/"bjhdq20200722".IncliHCF2000V1_calc_params/replicas/ekc03\nLZHCF2000_calc_params   /clickhouse/a-a/tables/"bjhdq20200722".LZHCF2000_calc_params    /clickhouse/a-a/tables/"bjhdq20200722".LZHCF2000_calc_params/replicas/ekc03\nAnemometerContData_local    /clickhouse/01-02/tables/"blmdq20231128".AnemometerContData_local   /clickhouse/01-02/tables/"blmdq20231128".AnemometerContData_local/replicas/ekc03\nAnemometerContData_materialized_local   /clickhouse/01-02/tables/"blmdq20231128".AnemometerContData_materialized_local  /clickhouse/01-02/tables/"blmdq20231128".AnemometerContData_materialized_local/replicas/ekc03\nIncliContData_materialized_local    /clickhouse/01-02/tables/"blmdq20231128".IncliContData_materialized_local   /clickhouse/01-02/tables/"blmdq20231128".IncliContData_materialized_local/replicas/ekc03\nSettlementContData_local    /clickhouse/01-02/tables/"blmdq20231128".SettlementContData_local   /clickhouse/01-02/tables/"blmdq20231128".SettlementContData_local/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"bmhtdq20230625".VibraCable_calc_params  /clickhouse/a-a/tables/"bmhtdq20230625".VibraCable_calc_params/replicas/ekc03\nSmoothHOS4000_calc_params   /clickhouse/a-a/tables/"bshdq20220123".SmoothHOS4000_calc_params    /clickhouse/a-a/tables/"bshdq20220123".SmoothHOS4000_calc_params/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"bzhhdq20220906".CablePeaksHCF4000_calc_params_new   /clickhouse/a-a/tables/"bzhhdq20220906".CablePeaksHCF4000_calc_params_new/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"bzhhdq20220906".VibraCable_calc_params  /clickhouse/a-a/tables/"bzhhdq20220906".VibraCable_calc_params/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".AxleLoadAtlas_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskSampleInfoAndTriggerSampleInfo_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskSampleInfo_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskTimeInfoSensorNode_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nIncliContData_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".IncliContData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".IncliContData_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".InitIncliInfo_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".PowerStateNodeData_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".SensorConfigInfoHIS400_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".SerialNumber_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".SoftVersion_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".SoftVersion_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".TopInfoNodeData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".TrafficFlowData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".TriggerEvent_local   /clickhouse/01-02/tables/"chgszdqfzjc20231115".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".VibrationData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"chgszdqfzjc20231115".VibrationData_materialized_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"chgszdqfzjc20231115".WeightingData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231115".WeightingData_local/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".AxleLoadAtlas_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskSampleInfoAndTriggerSampleInfo_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskSampleInfo_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskTimeInfoSensorNode_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nIncliContData_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".IncliContData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".IncliContData_local/replicas/ekc03\nIncliContData_materialized_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".IncliContData_materialized_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".IncliContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".InitIncliInfo_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".PowerStateNodeData_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".SensorConfigInfoHIS400_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".SerialNumber_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".SoftVersion_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".SoftVersion_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".TopInfoNodeData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".TrafficFlowData_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".TriggerEvent_local   /clickhouse/01-02/tables/"chgszdqfzjc20231117".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".VibrationData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"chgszdqfzjc20231117".VibrationData_materialized_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"chgszdqfzjc20231117".WeightingData_local  /clickhouse/01-02/tables/"chgszdqfzjc20231117".WeightingData_local/replicas/ekc03\nLufftData_local /clickhouse/01-02/tables/"cqhhdq20221230".LufftData_local   /clickhouse/01-02/tables/"cqhhdq20221230".LufftData_local/replicas/ekc03\nHCF4000_hourly_dist_local   /clickhouse/a-a/tables/"dataquality".HCF4000_hourly_dist_local  /clickhouse/a-a/tables/"dataquality".HCF4000_hourly_dist_local/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"dyhhgldq20231120".AxleLoadAtlas_local /clickhouse/01-02/tables/"dyhhgldq20231120".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskSampleInfo_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"dyhhgldq20231120".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"dyhhgldq20231120".DistanceContData_local  /clickhouse/01-02/tables/"dyhhgldq20231120".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"dyhhgldq20231120".DistanceContData_materialized_local /clickhouse/01-02/tables/"dyhhgldq20231120".DistanceContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"dyhhgldq20231120".InitIncliInfo_local /clickhouse/01-02/tables/"dyhhgldq20231120".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"dyhhgldq20231120".PowerStateNodeData_local    /clickhouse/01-02/tables/"dyhhgldq20231120".PowerStateNodeData_local/replicas/ekc03\nRadarCamera_local   /clickhouse/01-02/tables/"dyhhgldq20231120".RadarCamera_local   /clickhouse/01-02/tables/"dyhhgldq20231120".RadarCamera_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"dyhhgldq20231120".SensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"dyhhgldq20231120".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"dyhhgldq20231120".SerialNumber_local  /clickhouse/01-02/tables/"dyhhgldq20231120".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"dyhhgldq20231120".SoftVersion_local   /clickhouse/01-02/tables/"dyhhgldq20231120".SoftVersion_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"dyhhgldq20231120".StressData_materialized_local   /clickhouse/01-02/tables/"dyhhgldq20231120".StressData_materialized_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"dyhhgldq20231120".TempHumiContData_materialized_local /clickhouse/01-02/tables/"dyhhgldq20231120".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"dyhhgldq20231120".TopInfoNodeData_local   /clickhouse/01-02/tables/"dyhhgldq20231120".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"dyhhgldq20231120".TrafficFlowData_local   /clickhouse/01-02/tables/"dyhhgldq20231120".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"dyhhgldq20231120".TriggerEvent_local  /clickhouse/01-02/tables/"dyhhgldq20231120".TriggerEvent_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"dyhhgldq20231120".VibrationData_materialized_local    /clickhouse/01-02/tables/"dyhhgldq20231120".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"dyhhgldq20231120".WeightingData_local /clickhouse/01-02/tables/"dyhhgldq20231120".WeightingData_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"ghzhl20200602".TempHumiContData_local /clickhouse/01-02/tables/"ghzhl20200602".TempHumiContData_local/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjeq20211210".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjeq20211210".CablePeaksHCF4000_calc_params/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"hjcjeq20211210".VibraCable_calc_params  /clickhouse/a-a/tables/"hjcjeq20211210".VibraCable_calc_params/replicas/ekc03\nVibrationDataJS02_calc_params   /clickhouse/a-a/tables/"hjcjeq20211210".VibrationDataJS02_calc_params_new   /clickhouse/a-a/tables/"hjcjeq20211210".VibrationDataJS02_calc_params_new/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjyq20211210".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjyq20211210".CablePeaksHCF4000_calc_params/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".AxleLoadAtlas_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskSampleInfoAndTriggerSampleInfo_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskSampleInfo_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskTimeInfoSensorNode_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".DistanceContData_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".DistanceContData_materialized_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".DistanceContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".InitIncliInfo_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".PowerStateNodeData_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".SensorConfigInfoHIS400_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".SerialNumber_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".SoftVersion_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".StressData_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".StressData_materialized_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".TempHumiContData_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".TempHumiContData_materialized_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".TopInfoNodeData_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".TrafficFlowData_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"hxdlgfhdq20231128".TriggerEvent_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".VibrationData_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".VibrationData_materialized_local   /clickhouse/01-02/tables/"hxdlgfhdq20231128".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"hxdlgfhdq20231128".WeightingData_local    /clickhouse/01-02/tables/"hxdlgfhdq20231128".WeightingData_local/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".CablePeaksHCF4000_calc_params  /clickhouse/a-a/tables/"jhyhtdq20210316".CablePeaksHCF4000_calc_params/replicas/ekc03\nCorrelation_Analysis_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".Correlation_Analysis_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".Correlation_Analysis_calc_params/replicas/ekc03\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"jhyhtdq20210316".IncliHCF2000V1_calc_params /clickhouse/a-a/tables/"jhyhtdq20210316".IncliHCF2000V1_calc_params/replicas/ekc03\nTotalStationDataTS16_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".TotalStationDataTS16_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".TotalStationDataTS16_calc_params/replicas/ekc03\nUSRM100_calc_params /clickhouse/a-a/tables/"jhyhtdq20210316".USRM100_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".USRM100_calc_params/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".CablePeaksHCF4000_calc_params/replicas/ekc03\nADAM4117_calc_params    /clickhouse/a-a/tables/"jwgsckqqljc20230922".ADAM4117_calc_params   /clickhouse/a-a/tables/"jwgsckqqljc20230922".ADAM4117_calc_params/replicas/ekc03\nHCF2100_calc_params /clickhouse/a-a/tables/"jwgsckqqljc20230922".HCF2100_calc_params    /clickhouse/a-a/tables/"jwgsckqqljc20230922".HCF2100_calc_params/replicas/ekc03\nPressHCF710I0RSUC_calc_params   /clickhouse/a-a/tables/"jwgsckqqljc20230922".PressHCF710I0RSUC_calc_params  /clickhouse/a-a/tables/"jwgsckqqljc20230922".PressHCF710I0RSUC_calc_params/replicas/ekc03\nVibrationDataBYS007_calc_params /clickhouse/a-a/tables/"jwmjtdq20220823".VibrationDataBYS007_calc_params    /clickhouse/a-a/tables/"jwmjtdq20220823".VibrationDataBYS007_calc_params/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"jzlgfhdq20231128".AxleLoadAtlas_local /clickhouse/01-02/tables/"jzlgfhdq20231128".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskSampleInfo_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".DistanceContData_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"jzlgfhdq20231128".DistanceContData_materialized_local /clickhouse/01-02/tables/"jzlgfhdq20231128".DistanceContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"jzlgfhdq20231128".InitIncliInfo_local /clickhouse/01-02/tables/"jzlgfhdq20231128".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".PowerStateNodeData_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".SensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".SerialNumber_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".SoftVersion_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".StressData_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".StressData_materialized_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".TempHumiContData_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"jzlgfhdq20231128".TempHumiContData_materialized_local /clickhouse/01-02/tables/"jzlgfhdq20231128".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".TopInfoNodeData_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".TrafficFlowData_local   /clickhouse/01-02/tables/"jzlgfhdq20231128".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".TriggerEvent_local  /clickhouse/01-02/tables/"jzlgfhdq20231128".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"jzlgfhdq20231128".VibrationData_local /clickhouse/01-02/tables/"jzlgfhdq20231128".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".VibrationData_materialized_local    /clickhouse/01-02/tables/"jzlgfhdq20231128".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"jzlgfhdq20231128".WeightingData_local /clickhouse/01-02/tables/"jzlgfhdq20231128".WeightingData_local/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".CablePeaksHCF4000_calc_params_new /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".CablePeaksHCF4000_calc_params_new/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".VibraCable_calc_params    /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".VibraCable_calc_params/replicas/ekc03\nAnemometerContData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".AnemometerContData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".AnemometerContData_local/replicas/ekc03\nAnemometerContData_materialized_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".AnemometerContData_materialized_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".AnemometerContData_materialized_local/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"ljyhxtdq20231215".AxleLoadAtlas_local /clickhouse/01-02/tables/"ljyhxtdq20231215".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskSampleInfo_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".DistanceContData_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"ljyhxtdq20231215".DistanceContData_materialized_local /clickhouse/01-02/tables/"ljyhxtdq20231215".DistanceContData_materialized_local/replicas/ekc03\nIncliContData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".IncliContData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".IncliContData_local/replicas/ekc03\nIncliContData_materialized_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".IncliContData_materialized_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".IncliContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"ljyhxtdq20231215".InitIncliInfo_local /clickhouse/01-02/tables/"ljyhxtdq20231215".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".PowerStateNodeData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".SensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".SerialNumber_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".SoftVersion_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".StressData_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".StressData_materialized_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".TempHumiContData_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"ljyhxtdq20231215".TempHumiContData_materialized_local /clickhouse/01-02/tables/"ljyhxtdq20231215".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".TopInfoNodeData_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".TrafficFlowData_local   /clickhouse/01-02/tables/"ljyhxtdq20231215".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".TriggerEvent_local  /clickhouse/01-02/tables/"ljyhxtdq20231215".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".VibrationData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".VibrationData_materialized_local    /clickhouse/01-02/tables/"ljyhxtdq20231215".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".WeightingData_local /clickhouse/01-02/tables/"ljyhxtdq20231215".WeightingData_local/replicas/ekc03\nDisplacementHIS900_calc_params  /clickhouse/a-a/tables/"lqhq20200728".DisplacementHIS900_calc_params    /clickhouse/a-a/tables/"lqhq20200728".DisplacementHIS900_calc_params/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"mshdq20220126".CablePeaksHCF4000_calc_params    /clickhouse/a-a/tables/"mshdq20220126".CablePeaksHCF4000_calc_params/replicas/ekc03\nAnemometerContData_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".AnemometerContData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".AnemometerContData_local/replicas/ekc03\nAnemometerContData_materialized_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".AnemometerContData_materialized_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".AnemometerContData_materialized_local/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"nehjhdyhq20231215".AxleLoadAtlas_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".AxleLoadAtlas_local/replicas/ekc03\nCablePeaksData_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".CablePeaksData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".CablePeaksData_local/replicas/ekc03\nCablePeaksData_materialized_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".CablePeaksData_materialized_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".CablePeaksData_materialized_local/replicas/ekc03\nCablePeaksSS40N1_calc_params    /clickhouse/a-a/tables/"nehjhdyhq20231215".CablePeaksSS40N1_calc_params /clickhouse/a-a/tables/"nehjhdyhq20231215".CablePeaksSS40N1_calc_params/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskSampleInfo_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskTimeInfoSensorNode_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".DistanceContData_local /clickhouse/01-02/tables/"nehjhdyhq20231215".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"nehjhdyhq20231215".DistanceContData_materialized_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".DistanceContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"nehjhdyhq20231215".InitIncliInfo_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".PowerStateNodeData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".SensorConfigInfoHIS400_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".SerialNumber_local /clickhouse/01-02/tables/"nehjhdyhq20231215".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".SoftVersion_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".StressData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".StressData_materialized_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiContData_local /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiContData_materialized_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiContData_materialized_local/replicas/ekc03\nTempHumiData_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiData_local /clickhouse/01-02/tables/"nehjhdyhq20231215".TempHumiData_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".TopInfoNodeData_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".TrafficFlowData_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"nehjhdyhq20231215".TriggerEvent_local /clickhouse/01-02/tables/"nehjhdyhq20231215".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"nehjhdyhq20231215".VibrationData_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"nehjhdyhq20231215".VibrationData_materialized_local   /clickhouse/01-02/tables/"nehjhdyhq20231215".VibrationData_materialized_local/replicas/ekc03\nLufftData_local /clickhouse/01-02/tables/"plsd20200602".LufftData_local /clickhouse/01-02/tables/"plsd20200602".LufftData_local/replicas/ekc03\nIncliContData_local /clickhouse/01-02/tables/"qygsjnhhdqzq20200426".IncliContData_local /clickhouse/01-02/tables/"qygsjnhhdqzq20200426".IncliContData_local/replicas/ekc03\nIncliContData_materialized_local    /clickhouse/01-02/tables/"qygsjnhhdqzq20200426".IncliContData_materialized_local    /clickhouse/01-02/tables/"qygsjnhhdqzq20200426".IncliContData_materialized_local/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".VibraCable_calc_params /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".VibraCable_calc_params/replicas/ekc03\nAnemometerContData_local    /clickhouse/01-02/tables/"rygfhdq20231215".AnemometerContData_local /clickhouse/01-02/tables/"rygfhdq20231215".AnemometerContData_local/replicas/ekc03\nAnemometerContData_materialized_local   /clickhouse/01-02/tables/"rygfhdq20231215".AnemometerContData_materialized_local    /clickhouse/01-02/tables/"rygfhdq20231215".AnemometerContData_materialized_local/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"rygfhdq20231215".AxleLoadAtlas_local  /clickhouse/01-02/tables/"rygfhdq20231215".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local    /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskSampleInfo_local    /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskTimeInfoSensorNode_local    /clickhouse/01-02/tables/"rygfhdq20231215".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"rygfhdq20231215".DistanceContData_local   /clickhouse/01-02/tables/"rygfhdq20231215".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"rygfhdq20231215".DistanceContData_materialized_local  /clickhouse/01-02/tables/"rygfhdq20231215".DistanceContData_materialized_local/replicas/ekc03\nIncliContData_local /clickhouse/01-02/tables/"rygfhdq20231215".IncliContData_local  /clickhouse/01-02/tables/"rygfhdq20231215".IncliContData_local/replicas/ekc03\nIncliContData_materialized_local    /clickhouse/01-02/tables/"rygfhdq20231215".IncliContData_materialized_local /clickhouse/01-02/tables/"rygfhdq20231215".IncliContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"rygfhdq20231215".InitIncliInfo_local  /clickhouse/01-02/tables/"rygfhdq20231215".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"rygfhdq20231215".PowerStateNodeData_local /clickhouse/01-02/tables/"rygfhdq20231215".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"rygfhdq20231215".SensorConfigInfoHIS400_local /clickhouse/01-02/tables/"rygfhdq20231215".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"rygfhdq20231215".SerialNumber_local   /clickhouse/01-02/tables/"rygfhdq20231215".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"rygfhdq20231215".SoftVersion_local    /clickhouse/01-02/tables/"rygfhdq20231215".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"rygfhdq20231215".StressData_local /clickhouse/01-02/tables/"rygfhdq20231215".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"rygfhdq20231215".StressData_materialized_local    /clickhouse/01-02/tables/"rygfhdq20231215".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"rygfhdq20231215".TempHumiContData_local   /clickhouse/01-02/tables/"rygfhdq20231215".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"rygfhdq20231215".TempHumiContData_materialized_local  /clickhouse/01-02/tables/"rygfhdq20231215".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"rygfhdq20231215".TopInfoNodeData_local    /clickhouse/01-02/tables/"rygfhdq20231215".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"rygfhdq20231215".TrafficFlowData_local    /clickhouse/01-02/tables/"rygfhdq20231215".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"rygfhdq20231215".TriggerEvent_local   /clickhouse/01-02/tables/"rygfhdq20231215".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"rygfhdq20231215".VibrationData_local  /clickhouse/01-02/tables/"rygfhdq20231215".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"rygfhdq20231215".VibrationData_materialized_local /clickhouse/01-02/tables/"rygfhdq20231215".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"rygfhdq20231215".WeightingData_local  /clickhouse/01-02/tables/"rygfhdq20231215".WeightingData_local/replicas/ekc03\nHOS_4000_calc_params    /clickhouse/a-a/tables/"smgsnpjtdq20200728".HOS_4000_calc_params    /clickhouse/a-a/tables/"smgsnpjtdq20200728".HOS_4000_calc_params/replicas/ekc03\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"smgsnpjtdq20200728".IncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"smgsnpjtdq20200728".IncliHCF2000V1_calc_params/replicas/ekc03\nCablePeaksHCF100_calc_params    /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF100_calc_params    /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF100_calc_params/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF4000_calc_params/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"tdhhdq20210906".VibraCable_calc_params_new  /clickhouse/a-a/tables/"tdhhdq20210906".VibraCable_calc_params_new/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"tzgjq20211109".VibrationData_materialized_local   /clickhouse/01-02/tables/"tzgjq20211109".VibrationData_materialized_local/replicas/ekc03\nModal_Analysis_calc_params  /clickhouse/a-a/tables/"wwgdq20200728".Modal_Analysis_calc_params   /clickhouse/a-a/tables/"wwgdq20200728".Modal_Analysis_calc_params/replicas/ekc03\nAxleLoadAtlas_local /clickhouse/01-02/tables/"yhlgjq20231207".AxleLoadAtlas_local   /clickhouse/01-02/tables/"yhlgjq20231207".AxleLoadAtlas_local/replicas/ekc03\nClockTaskSampleInfoAndTriggerSampleInfo_local   /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskSampleInfoAndTriggerSampleInfo_local /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskSampleInfoAndTriggerSampleInfo_local/replicas/ekc03\nClockTaskSampleInfo_local   /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskSampleInfo_local /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskSampleInfo_local/replicas/ekc03\nClockTaskTimeInfoSensorNode_local   /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskTimeInfoSensorNode_local /clickhouse/01-02/tables/"yhlgjq20231207".ClockTaskTimeInfoSensorNode_local/replicas/ekc03\nDistanceContData_local  /clickhouse/01-02/tables/"yhlgjq20231207".DistanceContData_local    /clickhouse/01-02/tables/"yhlgjq20231207".DistanceContData_local/replicas/ekc03\nDistanceContData_materialized_local /clickhouse/01-02/tables/"yhlgjq20231207".DistanceContData_materialized_local   /clickhouse/01-02/tables/"yhlgjq20231207".DistanceContData_materialized_local/replicas/ekc03\nInitIncliInfo_local /clickhouse/01-02/tables/"yhlgjq20231207".InitIncliInfo_local   /clickhouse/01-02/tables/"yhlgjq20231207".InitIncliInfo_local/replicas/ekc03\nPowerStateNodeData_local    /clickhouse/01-02/tables/"yhlgjq20231207".PowerStateNodeData_local  /clickhouse/01-02/tables/"yhlgjq20231207".PowerStateNodeData_local/replicas/ekc03\nSensorConfigInfoHIS400_local    /clickhouse/01-02/tables/"yhlgjq20231207".SensorConfigInfoHIS400_local  /clickhouse/01-02/tables/"yhlgjq20231207".SensorConfigInfoHIS400_local/replicas/ekc03\nSerialNumber_local  /clickhouse/01-02/tables/"yhlgjq20231207".SerialNumber_local    /clickhouse/01-02/tables/"yhlgjq20231207".SerialNumber_local/replicas/ekc03\nSoftVersion_local   /clickhouse/01-02/tables/"yhlgjq20231207".SoftVersion_local /clickhouse/01-02/tables/"yhlgjq20231207".SoftVersion_local/replicas/ekc03\nStressData_local    /clickhouse/01-02/tables/"yhlgjq20231207".StressData_local  /clickhouse/01-02/tables/"yhlgjq20231207".StressData_local/replicas/ekc03\nStressData_materialized_local   /clickhouse/01-02/tables/"yhlgjq20231207".StressData_materialized_local /clickhouse/01-02/tables/"yhlgjq20231207".StressData_materialized_local/replicas/ekc03\nTempHumiContData_local  /clickhouse/01-02/tables/"yhlgjq20231207".TempHumiContData_local    /clickhouse/01-02/tables/"yhlgjq20231207".TempHumiContData_local/replicas/ekc03\nTempHumiContData_materialized_local /clickhouse/01-02/tables/"yhlgjq20231207".TempHumiContData_materialized_local   /clickhouse/01-02/tables/"yhlgjq20231207".TempHumiContData_materialized_local/replicas/ekc03\nTopInfoNodeData_local   /clickhouse/01-02/tables/"yhlgjq20231207".TopInfoNodeData_local /clickhouse/01-02/tables/"yhlgjq20231207".TopInfoNodeData_local/replicas/ekc03\nTrafficFlowData_local   /clickhouse/01-02/tables/"yhlgjq20231207".TrafficFlowData_local /clickhouse/01-02/tables/"yhlgjq20231207".TrafficFlowData_local/replicas/ekc03\nTriggerEvent_local  /clickhouse/01-02/tables/"yhlgjq20231207".TriggerEvent_local    /clickhouse/01-02/tables/"yhlgjq20231207".TriggerEvent_local/replicas/ekc03\nVibrationData_local /clickhouse/01-02/tables/"yhlgjq20231207".VibrationData_local   /clickhouse/01-02/tables/"yhlgjq20231207".VibrationData_local/replicas/ekc03\nVibrationData_materialized_local    /clickhouse/01-02/tables/"yhlgjq20231207".VibrationData_materialized_local  /clickhouse/01-02/tables/"yhlgjq20231207".VibrationData_materialized_local/replicas/ekc03\nWeightingData_local /clickhouse/01-02/tables/"yhlgjq20231207".WeightingData_local   /clickhouse/01-02/tables/"yhlgjq20231207".WeightingData_local/replicas/ekc03\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"ztzs20210917".CablePeaksHCF4000_calc_params /clickhouse/a-a/tables/"ztzs20210917".CablePeaksHCF4000_calc_params/replicas/ekc03\nDistanceHOS9120I0RSUC_calc_params   /clickhouse/a-a/tables/"ztzs20210917".DistanceHOS9120I0RSUC_calc_params /clickhouse/a-a/tables/"ztzs20210917".DistanceHOS9120I0RSUC_calc_params/replicas/ekc03\nUart485ForHCF1100SampleData_calc_params /clickhouse/a-a/tables/"ztzs20210917".Uart485ForHCF1100SampleData_calc_params   /clickhouse/a-a/tables/"ztzs20210917".Uart485ForHCF1100SampleData_calc_params/replicas/ekc03\nVibraCable_calc_params  /clickhouse/a-a/tables/"ztzs20210917".VibraCable_calc_params    /clickhouse/a-a/tables/"ztzs20210917".VibraCable_calc_params/replicas/ekc03\n')),(0,t.kt)("p",null,"\u5bf9\u4e8e\u4e0a\u9762\u7684\uff0c\u53ea\u9700\u8981\u4fdd\u7559\u5e93\u548c\u8868\uff0c\u9700\u8981\u505a\u6570\u636e\u6e05\u6d17\u5904\u7406,\u5904\u7406\u5b8c\u7c7b\u4f3c\uff1a  ztzs20210917.VibraCable_calc_params \uff0c\u5e76\u4e14\u628a\u5b83\u5b58\u52303.txt\u6587\u672c\u4e2d"),(0,t.kt)("p",null,"\u5904\u7406\u540e\u7684\u5982\u56fe\uff1a "),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224235612428.png",alt:null})),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u7edf\u8ba1clickhouse04\u53ea\u8bfb\u8868")),(0,t.kt)("p",null,"\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u8981\u7edf\u8ba1clickhouse04\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u786e\u5b9a\u54ea\u4e9b\u662f\u6211\u4eec\u8fd9\u6b21\u9700\u8981\u5904\u7406\u7684\u53ea\u8bfb\u8868\uff0c\u54ea\u4e9b\u662f\u4e4b\u524d\u5c31\u672c\u8eab\u5b58\u5728\u7684\uff0c\u5b58\u5728\u7684\u6b64\u5904\u6211\u4eec\u5c31\u9700\u8981\u8fc7\u6ee4\u6389\uff0c\u6709\u53ef\u80fd\u662f\u5b58\u5728\u95ee\u9898\u7684\uff0c \u7ecf\u8fc7\u67e5\u8be2\uff0c\u4e0b\u9762\u7c7b\u4f3ca-a\u7684\u8fd9\u79cd\u7c7b\u578b\uff0c"),(0,t.kt)("p",null,"\u9700\u8981\u8fc7\u6ee4\u6389\u3002"),(0,t.kt)("p",null,"select table,zookeeper_path,replica_path from ",(0,t.kt)("inlineCode",{parentName:"p"},"system"),".replicas where is_readonly"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'root@clickhouse04:~# clickhouse-client -q \'select table,zookeeper_path,replica_path from `system`.replicas where is_readonly\'\nHOS_4000_calc_params    /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params /clickhouse/a-a/tables/"bjhdq20200722".HOS_4000_calc_params/replicas/ekc04\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"bjhdq20200722".IncliHCF2000V1_calc_params   /clickhouse/a-a/tables/"bjhdq20200722".IncliHCF2000V1_calc_params/replicas/ekc04\nLZHCF2000_calc_params   /clickhouse/a-a/tables/"bjhdq20200722".LZHCF2000_calc_params    /clickhouse/a-a/tables/"bjhdq20200722".LZHCF2000_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"bmhtdq20230625".VibraCable_calc_params  /clickhouse/a-a/tables/"bmhtdq20230625".VibraCable_calc_params/replicas/ekc04\nSmoothHOS4000_calc_params   /clickhouse/a-a/tables/"bshdq20220123".SmoothHOS4000_calc_params    /clickhouse/a-a/tables/"bshdq20220123".SmoothHOS4000_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"bzhhdq20220906".VibraCable_calc_params  /clickhouse/a-a/tables/"bzhhdq20220906".VibraCable_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjeq20211210".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjeq20211210".CablePeaksHCF4000_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"hjcjeq20211210".VibraCable_calc_params  /clickhouse/a-a/tables/"hjcjeq20211210".VibraCable_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjyq20211210".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"hjcjyq20211210".CablePeaksHCF4000_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".CablePeaksHCF4000_calc_params  /clickhouse/a-a/tables/"jhyhtdq20210316".CablePeaksHCF4000_calc_params/replicas/ekc04\nCorrelation_Analysis_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".Correlation_Analysis_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".Correlation_Analysis_calc_params/replicas/ekc04\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"jhyhtdq20210316".IncliHCF2000V1_calc_params /clickhouse/a-a/tables/"jhyhtdq20210316".IncliHCF2000V1_calc_params/replicas/ekc04\nTotalStationDataTS16_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".TotalStationDataTS16_calc_params   /clickhouse/a-a/tables/"jhyhtdq20210316".TotalStationDataTS16_calc_params/replicas/ekc04\nUSRM100_calc_params /clickhouse/a-a/tables/"jhyhtdq20210316".USRM100_calc_params    /clickhouse/a-a/tables/"jhyhtdq20210316".USRM100_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".CablePeaksHCF4000_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".VibraCable_calc_params  /clickhouse/a-a/tables/"jnrcgsxhdhhtdq20230530".VibraCable_calc_params/replicas/ekc04\nADAM4117_calc_params    /clickhouse/a-a/tables/"jwgsckqqljc20230922".ADAM4117_calc_params   /clickhouse/a-a/tables/"jwgsckqqljc20230922".ADAM4117_calc_params/replicas/ekc04\nHCF2100_calc_params /clickhouse/a-a/tables/"jwgsckqqljc20230922".HCF2100_calc_params    /clickhouse/a-a/tables/"jwgsckqqljc20230922".HCF2100_calc_params/replicas/ekc04\nVibrationDataBYS007_calc_params /clickhouse/a-a/tables/"jwmjtdq20220823".VibrationDataBYS007_calc_params    /clickhouse/a-a/tables/"jwmjtdq20220823".VibrationDataBYS007_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".VibraCable_calc_params    /clickhouse/a-a/tables/"ljhhdqjgaqjc20220718".VibraCable_calc_params/replicas/ekc04\nDisplacementHIS900_calc_params  /clickhouse/a-a/tables/"lqhq20200728".DisplacementHIS900_calc_params    /clickhouse/a-a/tables/"lqhq20200728".DisplacementHIS900_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"mshdq20220126".CablePeaksHCF4000_calc_params    /clickhouse/a-a/tables/"mshdq20220126".CablePeaksHCF4000_calc_params/replicas/ekc04\nCablePeaksData_calc_params  /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".CablePeaksData_calc_params /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".CablePeaksData_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".VibraCable_calc_params /clickhouse/a-a/tables/"rcgsehxxhdhhtdq20220606".VibraCable_calc_params/replicas/ekc04\nHOS_4000_calc_params    /clickhouse/a-a/tables/"smgsnpjtdq20200728".HOS_4000_calc_params    /clickhouse/a-a/tables/"smgsnpjtdq20200728".HOS_4000_calc_params/replicas/ekc04\nIncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"smgsnpjtdq20200728".IncliHCF2000V1_calc_params  /clickhouse/a-a/tables/"smgsnpjtdq20200728".IncliHCF2000V1_calc_params/replicas/ekc04\nCablePeaksHCF100_calc_params    /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF100_calc_params    /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF100_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"tdhhdq20210906".CablePeaksHCF4000_calc_params/replicas/ekc04\nModal_Analysis_calc_params  /clickhouse/a-a/tables/"wwgdq20200728".Modal_Analysis_calc_params   /clickhouse/a-a/tables/"wwgdq20200728".Modal_Analysis_calc_params/replicas/ekc04\nStressDataDH1205_calc_params    /clickhouse/a-a/tables/"wwgdq20200728".StressDataDH1205_calc_params /clickhouse/a-a/tables/"wwgdq20200728".StressDataDH1205_calc_params/replicas/ekc04\nCablePeaksHCF4000_calc_params   /clickhouse/a-a/tables/"ztzs20210917".CablePeaksHCF4000_calc_params /clickhouse/a-a/tables/"ztzs20210917".CablePeaksHCF4000_calc_params/replicas/ekc04\nDistanceHOS9120I0RSUC_calc_params   /clickhouse/a-a/tables/"ztzs20210917".DistanceHOS9120I0RSUC_calc_params /clickhouse/a-a/tables/"ztzs20210917".DistanceHOS9120I0RSUC_calc_params/replicas/ekc04\nUart485ForHCF1100SampleData_calc_params /clickhouse/a-a/tables/"ztzs20210917".Uart485ForHCF1100SampleData_calc_params   /clickhouse/a-a/tables/"ztzs20210917".Uart485ForHCF1100SampleData_calc_params/replicas/ekc04\nVibraCable_calc_params  /clickhouse/a-a/tables/"ztzs20210917".VibraCable_calc_params    /clickhouse/a-a/tables/"ztzs20210917".VibraCable_calc_params/replicas/ekc04\n\n')),(0,t.kt)("p",null,"\u7efc\u4e0a,\u8fd9\u91cc\u53ea\u53ea\u9700\u8981\u5bf9clickhouse03\u8282\u70b9\u7684\u5b58\u572801-02\u9700\u8981\u5904\u7406,\u5bf9\u4e8ea-a\u7684\u4e0d\u9700\u8981\u5904\u7406,\u7136\u540e\u5904\u7406\u6570\u636e,\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0"),(0,t.kt)("p",null,"\u5728clickhouse03\u4e0a\u628a\u53ea\u8bfb\u8868\u8fdb\u884c\u6e05\u6d17\u5904\u7406\u4ee5\u4e0b\u683c\u5f0f,\u5e76\u4e14\u5c06\u5b83\u5b58\u653e\u52303.txt\u6587\u4ef6\u4e2d,\u7136\u540e\u7edf\u8ba1\u8fd9\u4e9b\u8868\u54ea\u4e9b\u8868\u672c\u5730\u6709\u6570\u636e,\u5bf9\u672c\u5730\u6709\u6570\u636e\u7684\u8868\u5728\u6b643.txt\u5148\u6392\u9664\u6389"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"root@clickhouse04:~# cat 3.txt \nblmdq20231128.AnemometerContData_local\nblmdq20231128.AnemometerContData_materialized_local\nblmdq20231128.IncliContData_materialized_local\nblmdq20231128.SettlementContData_local\nchgszdqfzjc20231115.AxleLoadAtlas_local\nchgszdqfzjc20231115.ClockTaskSampleInfoAndTriggerSampleInfo_local\nchgszdqfzjc20231115.ClockTaskSampleInfo_local\nchgszdqfzjc20231115.ClockTaskTimeInfoSensorNode_local\nchgszdqfzjc20231115.IncliContData_local\nchgszdqfzjc20231115.InitIncliInfo_local\nchgszdqfzjc20231115.PowerStateNodeData_local\nchgszdqfzjc20231115.SensorConfigInfoHIS400_local\nchgszdqfzjc20231115.SerialNumber_local\nchgszdqfzjc20231115.SoftVersion_local\nchgszdqfzjc20231115.TopInfoNodeData_local\nchgszdqfzjc20231115.TrafficFlowData_local\nchgszdqfzjc20231115.TriggerEvent_local\nchgszdqfzjc20231115.VibrationData_local\nchgszdqfzjc20231115.VibrationData_materialized_local\nchgszdqfzjc20231115.WeightingData_local\nchgszdqfzjc20231117.AxleLoadAtlas_local\nchgszdqfzjc20231117.ClockTaskSampleInfoAndTriggerSampleInfo_local\nchgszdqfzjc20231117.ClockTaskSampleInfo_local\nchgszdqfzjc20231117.ClockTaskTimeInfoSensorNode_local\nchgszdqfzjc20231117.IncliContData_local\nchgszdqfzjc20231117.IncliContData_materialized_local\nchgszdqfzjc20231117.InitIncliInfo_local\nchgszdqfzjc20231117.PowerStateNodeData_local\nchgszdqfzjc20231117.SensorConfigInfoHIS400_local\nchgszdqfzjc20231117.SerialNumber_local\nchgszdqfzjc20231117.SoftVersion_local\nchgszdqfzjc20231117.TopInfoNodeData_local\nchgszdqfzjc20231117.TrafficFlowData_local\nchgszdqfzjc20231117.TriggerEvent_local\nchgszdqfzjc20231117.VibrationData_local\nchgszdqfzjc20231117.VibrationData_materialized_local\nchgszdqfzjc20231117.WeightingData_local\ncqhhdq20221230.LufftData_local\ndyhhgldq20231120.AxleLoadAtlas_local\ndyhhgldq20231120.ClockTaskSampleInfoAndTriggerSampleInfo_local\ndyhhgldq20231120.ClockTaskSampleInfo_local\ndyhhgldq20231120.ClockTaskTimeInfoSensorNode_local\ndyhhgldq20231120.DistanceContData_local\ndyhhgldq20231120.DistanceContData_materialized_local\ndyhhgldq20231120.InitIncliInfo_local\ndyhhgldq20231120.PowerStateNodeData_local\ndyhhgldq20231120.RadarCamera_local\ndyhhgldq20231120.SensorConfigInfoHIS400_local\ndyhhgldq20231120.SerialNumber_local\ndyhhgldq20231120.SoftVersion_local\ndyhhgldq20231120.StressData_materialized_local\ndyhhgldq20231120.TempHumiContData_materialized_local\ndyhhgldq20231120.TopInfoNodeData_local\ndyhhgldq20231120.TrafficFlowData_local\ndyhhgldq20231120.TriggerEvent_local\ndyhhgldq20231120.VibrationData_materialized_local\ndyhhgldq20231120.WeightingData_local\nghzhl20200602.TempHumiContData_local\nhxdlgfhdq20231128.AxleLoadAtlas_local\nhxdlgfhdq20231128.ClockTaskSampleInfoAndTriggerSampleInfo_local\nhxdlgfhdq20231128.ClockTaskSampleInfo_local\nhxdlgfhdq20231128.ClockTaskTimeInfoSensorNode_local\nhxdlgfhdq20231128.DistanceContData_local\nhxdlgfhdq20231128.DistanceContData_materialized_local\nhxdlgfhdq20231128.InitIncliInfo_local\nhxdlgfhdq20231128.PowerStateNodeData_local\nhxdlgfhdq20231128.SensorConfigInfoHIS400_local\nhxdlgfhdq20231128.SerialNumber_local\nhxdlgfhdq20231128.SoftVersion_local\nhxdlgfhdq20231128.StressData_local\nhxdlgfhdq20231128.StressData_materialized_local\nhxdlgfhdq20231128.TempHumiContData_local\nhxdlgfhdq20231128.TempHumiContData_materialized_local\nhxdlgfhdq20231128.TopInfoNodeData_local\nhxdlgfhdq20231128.TrafficFlowData_local\nhxdlgfhdq20231128.TriggerEvent_local\nhxdlgfhdq20231128.VibrationData_local\nhxdlgfhdq20231128.VibrationData_materialized_local\nhxdlgfhdq20231128.WeightingData_local\njzlgfhdq20231128.AxleLoadAtlas_local\njzlgfhdq20231128.ClockTaskSampleInfoAndTriggerSampleInfo_local\njzlgfhdq20231128.ClockTaskSampleInfo_local\njzlgfhdq20231128.ClockTaskTimeInfoSensorNode_local\njzlgfhdq20231128.DistanceContData_local\njzlgfhdq20231128.DistanceContData_materialized_local\njzlgfhdq20231128.InitIncliInfo_local\njzlgfhdq20231128.PowerStateNodeData_local\njzlgfhdq20231128.SensorConfigInfoHIS400_local\njzlgfhdq20231128.SerialNumber_local\njzlgfhdq20231128.SoftVersion_local\njzlgfhdq20231128.StressData_local\njzlgfhdq20231128.StressData_materialized_local\njzlgfhdq20231128.TempHumiContData_local\njzlgfhdq20231128.TempHumiContData_materialized_local\njzlgfhdq20231128.TopInfoNodeData_local\njzlgfhdq20231128.TrafficFlowData_local\njzlgfhdq20231128.TriggerEvent_local\njzlgfhdq20231128.VibrationData_local\njzlgfhdq20231128.VibrationData_materialized_local\njzlgfhdq20231128.WeightingData_local\nljyhxtdq20231215.AnemometerContData_local\nljyhxtdq20231215.AnemometerContData_materialized_local\nljyhxtdq20231215.AxleLoadAtlas_local\nljyhxtdq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\nljyhxtdq20231215.ClockTaskSampleInfo_local\nljyhxtdq20231215.ClockTaskTimeInfoSensorNode_local\nljyhxtdq20231215.DistanceContData_local\nljyhxtdq20231215.DistanceContData_materialized_local\nljyhxtdq20231215.IncliContData_local\nljyhxtdq20231215.IncliContData_materialized_local\nljyhxtdq20231215.InitIncliInfo_local\nljyhxtdq20231215.PowerStateNodeData_local\nljyhxtdq20231215.SensorConfigInfoHIS400_local\nljyhxtdq20231215.SerialNumber_local\nljyhxtdq20231215.SoftVersion_local\nljyhxtdq20231215.StressData_local\nljyhxtdq20231215.StressData_materialized_local\nljyhxtdq20231215.TempHumiContData_local\nljyhxtdq20231215.TempHumiContData_materialized_local\nljyhxtdq20231215.TopInfoNodeData_local\nljyhxtdq20231215.TrafficFlowData_local\nljyhxtdq20231215.TriggerEvent_local\nljyhxtdq20231215.VibrationData_local\nljyhxtdq20231215.VibrationData_materialized_local\nljyhxtdq20231215.WeightingData_local\nnehjhdyhq20231215.AnemometerContData_local\nnehjhdyhq20231215.AnemometerContData_materialized_local\nnehjhdyhq20231215.AxleLoadAtlas_local\nnehjhdyhq20231215.CablePeaksData_local\nnehjhdyhq20231215.CablePeaksData_materialized_local\nnehjhdyhq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\nnehjhdyhq20231215.ClockTaskSampleInfo_local\nnehjhdyhq20231215.ClockTaskTimeInfoSensorNode_local\nnehjhdyhq20231215.DistanceContData_local\nnehjhdyhq20231215.DistanceContData_materialized_local\nnehjhdyhq20231215.InitIncliInfo_local\nnehjhdyhq20231215.PowerStateNodeData_local\nnehjhdyhq20231215.SensorConfigInfoHIS400_local\nnehjhdyhq20231215.SerialNumber_local\nnehjhdyhq20231215.SoftVersion_local\nnehjhdyhq20231215.StressData_local\nnehjhdyhq20231215.StressData_materialized_local\nnehjhdyhq20231215.TempHumiContData_local\nnehjhdyhq20231215.TempHumiContData_materialized_local\nnehjhdyhq20231215.TempHumiData_local\nnehjhdyhq20231215.TopInfoNodeData_local\nnehjhdyhq20231215.TrafficFlowData_local\nnehjhdyhq20231215.TriggerEvent_local\nnehjhdyhq20231215.VibrationData_local\nnehjhdyhq20231215.VibrationData_materialized_local\nplsd20200602.LufftData_local\nqygsjnhhdqzq20200426.IncliContData_local\nqygsjnhhdqzq20200426.IncliContData_materialized_local\nrygfhdq20231215.AnemometerContData_local\nrygfhdq20231215.AnemometerContData_materialized_local\nrygfhdq20231215.AxleLoadAtlas_local\nrygfhdq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\nrygfhdq20231215.ClockTaskSampleInfo_local\nrygfhdq20231215.ClockTaskTimeInfoSensorNode_local\nrygfhdq20231215.DistanceContData_local\nrygfhdq20231215.DistanceContData_materialized_local\nrygfhdq20231215.IncliContData_local\nrygfhdq20231215.IncliContData_materialized_local\nrygfhdq20231215.InitIncliInfo_local\nrygfhdq20231215.PowerStateNodeData_local\nrygfhdq20231215.SensorConfigInfoHIS400_local\nrygfhdq20231215.SerialNumber_local\nrygfhdq20231215.SoftVersion_local\nrygfhdq20231215.StressData_local\nrygfhdq20231215.StressData_materialized_local\nrygfhdq20231215.TempHumiContData_local\nrygfhdq20231215.TempHumiContData_materialized_local\nrygfhdq20231215.TopInfoNodeData_local\nrygfhdq20231215.TrafficFlowData_local\nrygfhdq20231215.TriggerEvent_local\nrygfhdq20231215.VibrationData_local\nrygfhdq20231215.VibrationData_materialized_local\nrygfhdq20231215.WeightingData_local\ntzgjq20211109.VibrationData_materialized_local\nyhlgjq20231207.AxleLoadAtlas_local\nyhlgjq20231207.ClockTaskSampleInfoAndTriggerSampleInfo_local\nyhlgjq20231207.ClockTaskSampleInfo_local\nyhlgjq20231207.ClockTaskTimeInfoSensorNode_local\nyhlgjq20231207.DistanceContData_local\nyhlgjq20231207.DistanceContData_materialized_local\nyhlgjq20231207.InitIncliInfo_local\nyhlgjq20231207.PowerStateNodeData_local\nyhlgjq20231207.SensorConfigInfoHIS400_local\nyhlgjq20231207.SerialNumber_local\nyhlgjq20231207.SoftVersion_local\nyhlgjq20231207.StressData_local\nyhlgjq20231207.StressData_materialized_local\nyhlgjq20231207.TempHumiContData_local\nyhlgjq20231207.TempHumiContData_materialized_local\nyhlgjq20231207.TopInfoNodeData_local\nyhlgjq20231207.TrafficFlowData_local\nyhlgjq20231207.TriggerEvent_local\nyhlgjq20231207.VibrationData_local\nyhlgjq20231207.VibrationData_materialized_local\nyhlgjq20231207.WeightingData_local\n")),(0,t.kt)("h4",{id:"23\u6838\u5b9e\u53ea\u8bfb\u8868\u6b63\u5e38\u526f\u672c\u8282\u70b9\u7684\u6570\u636e\u91cf"},"2.3\u3001\u6838\u5b9e\u53ea\u8bfb\u8868\u6b63\u5e38\u526f\u672c\u8282\u70b9\u7684\u6570\u636e\u91cf"),(0,t.kt)("p",null,"\u6838\u5b9eclickhouse03\u8282\u70b9\u53ea\u8bfb\u8868\u5728clickhouse04\u8282\u70b9\u7684\u6570\u636e\u91cf"),(0,t.kt)("p",null,"\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u5728clickhouse04\u8282\u70b9\u4e0a\u6838\u5b9e\u53ea\u8bfb\u8868\u6b63\u5e38\u7684\u6570\u636e\u91cf\u662f\u591a\u5c11\uff0c\u6211\u4eec\u9700\u8981\u5728clickhouse03\u4e0a\u6062\u590d\u8fd9\u4e9b\u53ea\u8bfb\u8868\u540e\uff0c\u9a8c\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\u3002"),(0,t.kt)("p",null,"\u7136\u540e\u5728clickhouse04\u673a\u5668\u4e0a\u67e5\u770b3.txt\u6587\u4ef6\u4e2d\u53ea\u8bfb\u8868\u6240\u6709\u7684\u6570\u636e\u662f\u591a\u5c11 "),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'for i in `cat 3.txt `; do echo $i && sleep 1 && clickhouse-client -q "select count(*)  from ${i} "; done\n')),(0,t.kt)("p",null,"\u7edf\u8ba1\u540e\u7684\u7ed3\u679c\u5982\u4e0b:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"root@clickhouse04:~# cat db-table-count.txt \nblmdq20231128.AnemometerContData_local\n677674\nblmdq20231128.AnemometerContData_materialized_local\n9154\nblmdq20231128.IncliContData_materialized_local\n53043\nblmdq20231128.SettlementContData_local\n58255\nchgszdqfzjc20231115.AxleLoadAtlas_local\n0\nchgszdqfzjc20231115.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nchgszdqfzjc20231115.ClockTaskSampleInfo_local\n0\nchgszdqfzjc20231115.ClockTaskTimeInfoSensorNode_local\n0\nchgszdqfzjc20231115.IncliContData_local\n1312036319\nchgszdqfzjc20231115.InitIncliInfo_local\n0\nchgszdqfzjc20231115.PowerStateNodeData_local\n0\nchgszdqfzjc20231115.SensorConfigInfoHIS400_local\n0\nchgszdqfzjc20231115.SerialNumber_local\n0\nchgszdqfzjc20231115.SoftVersion_local\n0\nchgszdqfzjc20231115.TopInfoNodeData_local\n0\nchgszdqfzjc20231115.TrafficFlowData_local\n0\nchgszdqfzjc20231115.TriggerEvent_local\n29\nchgszdqfzjc20231115.VibrationData_local\n525529165\nchgszdqfzjc20231115.VibrationData_materialized_local\n209080\nchgszdqfzjc20231115.WeightingData_local\n0\nchgszdqfzjc20231117.AxleLoadAtlas_local\n0\nchgszdqfzjc20231117.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nchgszdqfzjc20231117.ClockTaskSampleInfo_local\n0\nchgszdqfzjc20231117.ClockTaskTimeInfoSensorNode_local\n0\nchgszdqfzjc20231117.IncliContData_local\n1156011200\nchgszdqfzjc20231117.IncliContData_materialized_local\n461230\nchgszdqfzjc20231117.InitIncliInfo_local\n0\nchgszdqfzjc20231117.PowerStateNodeData_local\n0\nchgszdqfzjc20231117.SensorConfigInfoHIS400_local\n0\nchgszdqfzjc20231117.SerialNumber_local\n0\nchgszdqfzjc20231117.SoftVersion_local\n0\nchgszdqfzjc20231117.TopInfoNodeData_local\n0\nchgszdqfzjc20231117.TrafficFlowData_local\n0\nchgszdqfzjc20231117.TriggerEvent_local\n23\nchgszdqfzjc20231117.VibrationData_local\n494884251\nchgszdqfzjc20231117.VibrationData_materialized_local\n198286\nchgszdqfzjc20231117.WeightingData_local\n0\ncqhhdq20221230.LufftData_local\n0\ndyhhgldq20231120.AxleLoadAtlas_local\n0\ndyhhgldq20231120.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\ndyhhgldq20231120.ClockTaskSampleInfo_local\n0\ndyhhgldq20231120.ClockTaskTimeInfoSensorNode_local\n0\ndyhhgldq20231120.DistanceContData_local\n1506328581\ndyhhgldq20231120.DistanceContData_materialized_local\n1081033\ndyhhgldq20231120.InitIncliInfo_local\n0\ndyhhgldq20231120.PowerStateNodeData_local\n0\ndyhhgldq20231120.RadarCamera_local\n0\ndyhhgldq20231120.SensorConfigInfoHIS400_local\n0\ndyhhgldq20231120.SerialNumber_local\n0\ndyhhgldq20231120.SoftVersion_local\n0\ndyhhgldq20231120.StressData_materialized_local\n1423085\ndyhhgldq20231120.TempHumiContData_materialized_local\n1562454\ndyhhgldq20231120.TopInfoNodeData_local\n0\ndyhhgldq20231120.TrafficFlowData_local\n0\ndyhhgldq20231120.TriggerEvent_local\n0\ndyhhgldq20231120.VibrationData_materialized_local\n585168\ndyhhgldq20231120.WeightingData_local\n0\nghzhl20200602.TempHumiContData_local\n215881\nhxdlgfhdq20231128.AxleLoadAtlas_local\n0\nhxdlgfhdq20231128.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nhxdlgfhdq20231128.ClockTaskSampleInfo_local\n0\nhxdlgfhdq20231128.ClockTaskTimeInfoSensorNode_local\n0\nhxdlgfhdq20231128.DistanceContData_local\n0\nhxdlgfhdq20231128.DistanceContData_materialized_local\n0\nhxdlgfhdq20231128.InitIncliInfo_local\n0\nhxdlgfhdq20231128.PowerStateNodeData_local\n0\nhxdlgfhdq20231128.SensorConfigInfoHIS400_local\n0\nhxdlgfhdq20231128.SerialNumber_local\n0\nhxdlgfhdq20231128.SoftVersion_local\n0\nhxdlgfhdq20231128.StressData_local\n167398879\nhxdlgfhdq20231128.StressData_materialized_local\n109819\nhxdlgfhdq20231128.TempHumiContData_local\n5449\nhxdlgfhdq20231128.TempHumiContData_materialized_local\n2624\nhxdlgfhdq20231128.TopInfoNodeData_local\n0\nhxdlgfhdq20231128.TrafficFlowData_local\n0\nhxdlgfhdq20231128.TriggerEvent_local\n0\nhxdlgfhdq20231128.VibrationData_local\n262130599\nhxdlgfhdq20231128.VibrationData_materialized_local\n109947\nhxdlgfhdq20231128.WeightingData_local\n0\njzlgfhdq20231128.AxleLoadAtlas_local\n0\njzlgfhdq20231128.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\njzlgfhdq20231128.ClockTaskSampleInfo_local\n0\njzlgfhdq20231128.ClockTaskTimeInfoSensorNode_local\n0\njzlgfhdq20231128.DistanceContData_local\n0\njzlgfhdq20231128.DistanceContData_materialized_local\n0\njzlgfhdq20231128.InitIncliInfo_local\n0\njzlgfhdq20231128.PowerStateNodeData_local\n0\njzlgfhdq20231128.SensorConfigInfoHIS400_local\n0\njzlgfhdq20231128.SerialNumber_local\n0\njzlgfhdq20231128.SoftVersion_local\n0\njzlgfhdq20231128.StressData_local\n342007046\njzlgfhdq20231128.StressData_materialized_local\n221175\njzlgfhdq20231128.TempHumiContData_local\n317237\njzlgfhdq20231128.TempHumiContData_materialized_local\n46655\njzlgfhdq20231128.TopInfoNodeData_local\n0\njzlgfhdq20231128.TrafficFlowData_local\n0\njzlgfhdq20231128.TriggerEvent_local\n0\njzlgfhdq20231128.VibrationData_local\n594282315\njzlgfhdq20231128.VibrationData_materialized_local\n247654\njzlgfhdq20231128.WeightingData_local\n0\nljyhxtdq20231215.AnemometerContData_local\n0\nljyhxtdq20231215.AnemometerContData_materialized_local\n0\nljyhxtdq20231215.AxleLoadAtlas_local\n0\nljyhxtdq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nljyhxtdq20231215.ClockTaskSampleInfo_local\n0\nljyhxtdq20231215.ClockTaskTimeInfoSensorNode_local\n0\nljyhxtdq20231215.DistanceContData_local\n0\nljyhxtdq20231215.DistanceContData_materialized_local\n0\nljyhxtdq20231215.IncliContData_local\n0\nljyhxtdq20231215.IncliContData_materialized_local\n0\nljyhxtdq20231215.InitIncliInfo_local\n0\nljyhxtdq20231215.PowerStateNodeData_local\n0\nljyhxtdq20231215.SensorConfigInfoHIS400_local\n0\nljyhxtdq20231215.SerialNumber_local\n0\nljyhxtdq20231215.SoftVersion_local\n0\nljyhxtdq20231215.StressData_local\n0\nljyhxtdq20231215.StressData_materialized_local\n0\nljyhxtdq20231215.TempHumiContData_local\n0\nljyhxtdq20231215.TempHumiContData_materialized_local\n0\nljyhxtdq20231215.TopInfoNodeData_local\n0\nljyhxtdq20231215.TrafficFlowData_local\n0\nljyhxtdq20231215.TriggerEvent_local\n0\nljyhxtdq20231215.VibrationData_local\n0\nljyhxtdq20231215.VibrationData_materialized_local\n0\nljyhxtdq20231215.WeightingData_local\n0\nnehjhdyhq20231215.AnemometerContData_local\n0\nnehjhdyhq20231215.AnemometerContData_materialized_local\n0\nnehjhdyhq20231215.AxleLoadAtlas_local\n2684\nnehjhdyhq20231215.CablePeaksData_local\n0\nnehjhdyhq20231215.CablePeaksData_materialized_local\n0\nnehjhdyhq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nnehjhdyhq20231215.ClockTaskSampleInfo_local\n0\nnehjhdyhq20231215.ClockTaskTimeInfoSensorNode_local\n0\nnehjhdyhq20231215.DistanceContData_local\n0\nnehjhdyhq20231215.DistanceContData_materialized_local\n0\nnehjhdyhq20231215.InitIncliInfo_local\n0\nnehjhdyhq20231215.PowerStateNodeData_local\n0\nnehjhdyhq20231215.SensorConfigInfoHIS400_local\n0\nnehjhdyhq20231215.SerialNumber_local\n0\nnehjhdyhq20231215.SoftVersion_local\n0\nnehjhdyhq20231215.StressData_local\n0\nnehjhdyhq20231215.StressData_materialized_local\n0\nnehjhdyhq20231215.TempHumiContData_local\n0\nnehjhdyhq20231215.TempHumiContData_materialized_local\n0\nnehjhdyhq20231215.TempHumiData_local\n0\nnehjhdyhq20231215.TopInfoNodeData_local\n0\nnehjhdyhq20231215.TrafficFlowData_local\n0\nnehjhdyhq20231215.TriggerEvent_local\n0\nnehjhdyhq20231215.VibrationData_local\n0\nnehjhdyhq20231215.VibrationData_materialized_local\n0\nplsd20200602.LufftData_local\n60216\nqygsjnhhdqzq20200426.IncliContData_local\n0\nqygsjnhhdqzq20200426.IncliContData_materialized_local\n0\nrygfhdq20231215.AnemometerContData_local\n0\nrygfhdq20231215.AnemometerContData_materialized_local\n0\nrygfhdq20231215.AxleLoadAtlas_local\n0\nrygfhdq20231215.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nrygfhdq20231215.ClockTaskSampleInfo_local\n0\nrygfhdq20231215.ClockTaskTimeInfoSensorNode_local\n0\nrygfhdq20231215.DistanceContData_local\n0\nrygfhdq20231215.DistanceContData_materialized_local\n0\nrygfhdq20231215.IncliContData_local\n0\nrygfhdq20231215.IncliContData_materialized_local\n0\nrygfhdq20231215.InitIncliInfo_local\n0\nrygfhdq20231215.PowerStateNodeData_local\n0\nrygfhdq20231215.SensorConfigInfoHIS400_local\n0\nrygfhdq20231215.SerialNumber_local\n0\nrygfhdq20231215.SoftVersion_local\n0\nrygfhdq20231215.StressData_local\n0\nrygfhdq20231215.StressData_materialized_local\n0\nrygfhdq20231215.TempHumiContData_local\n0\nrygfhdq20231215.TempHumiContData_materialized_local\n0\nrygfhdq20231215.TopInfoNodeData_local\n0\nrygfhdq20231215.TrafficFlowData_local\n0\nrygfhdq20231215.TriggerEvent_local\n0\nrygfhdq20231215.VibrationData_local\n0\nrygfhdq20231215.VibrationData_materialized_local\n0\nrygfhdq20231215.WeightingData_local\n0\ntzgjq20211109.VibrationData_materialized_local\n176972\nyhlgjq20231207.AxleLoadAtlas_local\n0\nyhlgjq20231207.ClockTaskSampleInfoAndTriggerSampleInfo_local\n0\nyhlgjq20231207.ClockTaskSampleInfo_local\n0\nyhlgjq20231207.ClockTaskTimeInfoSensorNode_local\n0\nyhlgjq20231207.DistanceContData_local\n0\nyhlgjq20231207.DistanceContData_materialized_local\n0\nyhlgjq20231207.InitIncliInfo_local\n0\nyhlgjq20231207.PowerStateNodeData_local\n0\nyhlgjq20231207.SensorConfigInfoHIS400_local\n0\nyhlgjq20231207.SerialNumber_local\n0\nyhlgjq20231207.SoftVersion_local\n0\nyhlgjq20231207.StressData_local\n0\nyhlgjq20231207.StressData_materialized_local\n0\nyhlgjq20231207.TempHumiContData_local\n0\nyhlgjq20231207.TempHumiContData_materialized_local\n0\nyhlgjq20231207.TopInfoNodeData_local\n0\nyhlgjq20231207.TrafficFlowData_local\n0\nyhlgjq20231207.TriggerEvent_local\n0\nyhlgjq20231207.VibrationData_local\n0\nyhlgjq20231207.VibrationData_materialized_local\n0\nyhlgjq20231207.WeightingData_local\n0\nroot@clickhouse04:~# \n")),(0,t.kt)("h4",{id:"24\u6267\u884crestore-replica"},"2.4\u3001\u6267\u884cRestore Replica"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"clickhouse03\u4e2d\u64cd\u4f5c")),(0,t.kt)("p",null,"\u7136\u540e\u5728clickhouse03\u4e2d",(0,t.kt)("strong",{parentName:"p"},"Restore Replica")),(0,t.kt)("p",null,"\u8fd9\u4e00\u6b65,\u975e\u5e38\u91cd\u8981"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224160436669.png",alt:"image-20231224160436669"})),(0,t.kt)("p",null,"\u6267\u884c\u547d\u4ee4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},'for i in `cat 3.txt `; do echo $i && sleep 1 && clickhouse-client -q "system restore replica  ${i} "; done\n')),(0,t.kt)("p",null,"\u5907\u6ce8\uff1a \u56e0\u4e3a\u8fd9\u91cc\u53ea\u6709\u8fd9\u4e00\u4e2a\u8282\u70b9\u6709\u95ee\u9898\uff0c\u6240\u4ee5\u5c31\u4e0d\u9700\u8981\u52a0on cluster\u6765\u6267\u884c\uff0c\u53ea\u9700\u8981\u4fee\u590dclickhouse03\u8282\u70b9\u5373\u53ef"),(0,t.kt)("h4",{id:"25\u6536\u96c6restore-replica-\u4e4b\u540e\u5b58\u5728\u5f02\u5e38\u7684\u8868"},"2.5\u3001\u6536\u96c6",(0,t.kt)("strong",{parentName:"h4"},"Restore Replica")," \u4e4b\u540e\u5b58\u5728\u5f02\u5e38\u7684\u8868"),(0,t.kt)("p",null,"\u9519\u8bef\u95ee\u9898\u8bb0\u5f551 "),(0,t.kt)("p",null,"\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u4e24\u4e2a\u62a5\u9519 "),(0,t.kt)("p",null,"\u62a5\u9519\u63d0\u793a1\uff1a"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224160528306.png",alt:"image-20231224160528306"})),(0,t.kt)("p",null,"\u62a5\u9519\u63d0\u793a2\uff1a"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224160743002.png",alt:"image-20231224160743002"})),(0,t.kt)("p",null,"\u9519\u8bef\u95ee\u9898\uff0c\u6682\u65f6\u6211\u4eec\u8bb0\u4e0b\uff0c\u6682\u65f6\u5ffd\u7565\u6b64\u95ee\u9898"),(0,t.kt)("p",null,"\u89c2\u5bdf\u670d\u52a1\u5668\u5e26\u5bbd,\u5df2\u7ecf\u4ececlickhouse04\u540c\u6b65clickhouse03\u6570\u636e\u4e86\u3002"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224160948656.png",alt:"image-20231224160948656"})),(0,t.kt)("p",null,"\u67e5\u770b\u78c1\u76d8\u4f7f\u7528\u60c5\u51b5"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224161034365.png",alt:"image-20231224161034365"})),(0,t.kt)("p",null,"zk\u9a8c\u8bc1\uff1a\u53d1\u73b0\u5df2\u7ecf\u6709\u4e86\u5143\u6570\u636e"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224161204081.png",alt:null})),(0,t.kt)("p",null,"\u540c\u6b65\u6570\u636e\u65f6\u523b\u7684\u76d1\u63a7\u6570\u636e\uff0c\u6709\u660e\u663e\u7684\u6301\u7eed\u589e\u9ad8\u8d8b\u52bf"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224161938309.png",alt:"image-20231224161938309"})),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u5f02\u5e38\u95ee\u9898readonly\u6838\u5b9e\u8bb0\u5f552:")),(0,t.kt)("p",null,"\u73b0\u5728\u9700\u8981\u6838\u5b9e\u4e0b",(0,t.kt)("strong",{parentName:"p"},"clickhouse03"),"\u8fd8\u6709\u6ca1\u6709\u5f02\u5e38\u7684\u53ea\u8bfb\u8868\uff0c\u56e0\u4e3a\u5f53\u524d\u5df2\u7ecf\u66f4\u65b0\u4e86zk\u7684\u8bb0\u5f55\uff0c\u53ef\u80fd\u8fd8\u5b58\u5728\u5f02\u5e38\u6709\u95ee\u9898\u7684\u3002\u9700\u8981\u624b\u52a8\u5728\u6838\u5b9e\u4e00\u6b21\u3002\u786e\u5b9a\u90fd\u662fOk\u7684"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224163312594.png",alt:"image-20231224163312594"})),(0,t.kt)("p",null,"\u53d1\u73b0\u8fd8\u5b58\u5728\u4e09\u5f20\u5f02\u5e38\u7684\uff0c\u8fd9\u4e2a\u9700\u8981\u5355\u72ec\u5728\u5904\u7406\u4e0b\uff0c\u5148\u67e5\u8be2\u4e0b\u662f\u5426\u6709\u6570\u636e\uff0c\u7ecf\u8fc7\u4e0b\u9762\u7684\u6392\u67e5\u5df2\u7ecf\u663e\u793a\u6709\u6570\u636e\u4e86"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224163852066.png",alt:"image-20231224163852066"})),(0,t.kt)("p",null,"zk\u4e2d\u67e5\u770b\u662f\u5426\u6709\u5143\u6570\u636e\uff0c\u76ee\u524d\u6765\u770b\u5df2\u7ecf\u5b58\u5728\u5143\u6570\u636e\u4e86\u3002"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224163803248.png",alt:"image-20231224163803248"})),(0,t.kt)("p",null,"\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5355\u72ec\u5904\u7406  \uff0c\u8fd9\u4e2a\u8ddf\u524d\u9762\u6267\u884c",(0,t.kt)("strong",{parentName:"p"},"Restore Replica")," \u62a5\u9519\u662f\u76f8\u5173\u7684"),(0,t.kt)("p",null,"\u95ee\u9898\u6838\u5b9e\u8bb0\u5f553\uff1a "),(0,t.kt)("p",null,"\u5bf9\u4e8e\u5bfc\u51fa\u7684\u6570\u636e\u8fdb\u884c\u6bd4\u5bf9\uff0c\u627e\u5230\u51fa\u73b0\u95ee\u9898\u7684\u8868\u3002\u76ee\u524d\u5df2\u7ecf\u57fa\u672c\u9501\u5b9a\u51fa\u95ee\u9898\u7684\u8868\u4e3a tzgjq20211109.VibrationData_materialized_local"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224234431697.png",alt:"image-20231224234431697"})),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u5bf9\u6539\u53d8\u8fdb\u884c\u4fee\u590d"),(0,t.kt)("h4",{id:"26\u4e0d\u4e00\u81f4\u8868\u95ee\u9898\u5904\u7406"},"2.6\u3001\u4e0d\u4e00\u81f4\u8868\u95ee\u9898\u5904\u7406"),(0,t.kt)("p",null,"tzgjq20211109.VibrationData_materialized_local  \u5904\u7406\u6b64\u8868\u7684\u95ee\u9898"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u590d\u5236\u914d\u7f6e\u95ee\u9898\uff1a"),"\u786e\u4fdd\u8868\u6ca1\u6709\u88ab\u6807\u8bb0\u4e3a\u53ea\u8bfb\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"clickhouse03 :) SELECT * FROM system.replicas WHERE database = 'tzgjq20211109' and   table = 'VibrationData_materialized_local'\\G;\n\nSELECT *\nFROM system.replicas\nWHERE (database = 'tzgjq20211109') AND (table = 'VibrationData_materialized_local')\n\nQuery id: 3103ff54-4204-445c-9771-485422a6dfcd\n\nRow 1:\n\u2500\u2500\u2500\u2500\u2500\u2500\ndatabase:                    tzgjq20211109\ntable:                       VibrationData_materialized_local\nengine:                      ReplicatedAggregatingMergeTree\nis_leader:                   0\ncan_become_leader:           1\nis_readonly:                 1                ##\u770b\u6b64\u5904\nis_session_expired:          0\nfuture_parts:                0\nparts_to_check:              0\nzookeeper_path:              /clickhouse/01-02/tables/\"tzgjq20211109\".VibrationData_materialized_local\nreplica_name:                ekc03\nreplica_path:                /clickhouse/01-02/tables/\"tzgjq20211109\".VibrationData_materialized_local/replicas/ekc03\ncolumns_version:             -1\nqueue_size:                  0\ninserts_in_queue:            0\nmerges_in_queue:             0\npart_mutations_in_queue:     0\nqueue_oldest_time:           1970-01-01 08:00:00\ninserts_oldest_time:         1970-01-01 08:00:00\nmerges_oldest_time:          1970-01-01 08:00:00\npart_mutations_oldest_time:  1970-01-01 08:00:00\noldest_part_to_get:          \noldest_part_to_merge_to:     \noldest_part_to_mutate_to:    \nlog_max_index:               300940\nlog_pointer:                 278345\nlast_queue_update:           1970-01-01 08:00:00\nabsolute_delay:              1703421376\ntotal_replicas:              2\nactive_replicas:             1\nlost_part_count:             0\nlast_queue_update_exception: \nzookeeper_exception:         \nreplica_is_active:           {'ekc03':0,'ekc04':1}\n\n1 row in set. Elapsed: 0.009 sec. \n")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u7cfb\u7edf\u8868\u68c0\u67e5\uff1a")," \u68c0\u67e5 ClickHouse \u4e2d\u7684\u7cfb\u7edf\u8868\u4ee5\u83b7\u53d6\u6709\u5173\u8868\u72b6\u6001\u7684\u66f4\u591a\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u67e5\u8be2"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"SELECT * FROM system.tables WHERE database = 'tzgjq20211109' AND name = 'VibrationData_materialized_local' \\G;\n")),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224204346121.png",alt:"image-20231224204346121"})),(0,t.kt)("p",null,"\u4f3c\u4e4e\u770b\u4e0d\u51fa\u4ec0\u4e48\u91cd\u8981\u7684\u4fe1\u606f"),(0,t.kt)("p",null,"\u5c1d\u8bd5\u6267\u884crestore replica"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"clickhouse03 :) system restore replica tzgjq20211109.VibrationData_materialized_local\n\nSYSTEM RESTORE REPLICA tzgjq20211109.VibrationData_materialized_local\n\nQuery id: 2905be46-d090-4211-8155-d2f44417bcae\n\n\n0 rows in set. Elapsed: 0.008 sec. \n\nReceived exception from server (version 23.4.2):\nCode: 36. DB::Exception: Received from 127.0.0.1:9000. DB::Exception: Replica path is present at /clickhouse/01-02/tables/\"tzgjq20211109\".VibrationData_materialized_local/replicas/ekc03 - nothing to restore. If you are sure that metadata is lost and that replica path contains some garbage, then use SYSTEM DROP REPLICA query first.. (BAD_ARGUMENTS)\n\n\nclickhouse03 :) SYSTEM DROP REPLICA '/clickhouse/01-02/tables/tzgjq20211109.VibrationData_materialized_local/replicas/ekc03';\n\n\nSYSTEM DROP REPLICA '/clickhouse/01-02/tables/tzgjq20211109.VibrationData_materialized_local/replicas/ekc03'\n\nQuery id: 91775ddc-7ca5-456d-bed0-38ed8931da75\n\n\n0 rows in set. Elapsed: 0.004 sec. \n\nReceived exception from server (version 23.4.2):\nCode: 999. DB::Exception: Received from 127.0.0.1:9000. Coordination::Exception. Coordination::Exception: Bad arguments, path: /clickhouse/01-02/tables/\"bjgsbp20200828\".AxleLoadAtlas_local/replicas//clickhouse/01-02/tables/tzgjq20211109.VibrationData_materialized_local/replicas/ekc03/is_lost. (KEEPER_EXCEPTION)\n\n")),(0,t.kt)("p",null,"\u6267\u884cSYSTEM DROP REPLICA \u63d0\u793a\u9519\u8bef\u4fe1\u606f\uff0c\u9519\u8bef\u7684\u53c2\u6570"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u6700\u540e\u5c31\u662f\u7ec8\u6781\u89e3\u51b3\u65b9\u5f0f")),(0,t.kt)("p",null,"\u56e0\u4e3a\u5f53\u524d\u4f3c\u4e4e\u5728zk\u4e2d\u5b58\u5728\u76f8\u5173\u5143\u6570\u636e\u4fe1\u606f\uff0c\u5927\u90a3\u662f\u4f3c\u4e4e\u770b\u7740\u526f\u672c\u662freadonly, \u6839\u636e\u63d0\u793a\u4fe1\u606f\uff0c\u9047\u5230\u4e86\u65e0\u6cd5\u5904\u7406\u7684\u53c2\u6570\u3002\u8fd9\u901a\u5e38\u53d1\u751f\u5728\u6267\u884c\u8fd8\u539f\uff08restore\uff09\u64cd\u4f5c\u65f6\uff0cClickHouse \u53d1\u73b0\u6ca1\u6709\u9700\u8981\u8fd8\u539f\u7684\u5185\u5bb9\uff0c\u6216\u8005\u53d1\u73b0 replica path\uff08\u526f\u672c\u8def\u5f84\uff09\u5305\u542b\u4e00\u4e9b\u5783\u573e\u6570\u636e\u3002\u6240\u4ee5\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u91cd\u65b0\u521b\u5efa\u526f\u672c\u8868"),(0,t.kt)("p",null,"\u5728clickhouse04\u8282\u70b9\u4e0a\u67e5\u770b\u8868\u521b\u5efa\u65b9\u5f0f"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"clickhouse04 :) show create table tzgjq20211109.VibrationData_materialized_local\n\nSHOW CREATE TABLE tzgjq20211109.VibrationData_materialized_local\n\nQuery id: 173f4cb4-7350-4c8e-8aef-b16b4dfa766f\n\n\u250c\u2500statement\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 CREATE TABLE tzgjq20211109.VibrationData_materialized_local\n(\n    `packet_name` String,\n    `node_id` String,\n    `gateway_id` String,\n    `minute_unix_time` DateTime,\n    `channel` String,\n    `err_comment` String,\n    `project_name` String,\n    `module_name` String,\n    `sensor_id` String,\n    `ver` UInt32,\n    `avg_data` Float64,\n    `max_data` SimpleAggregateFunction(max, Float64),\n    `min_data` SimpleAggregateFunction(min, Float64),\n    `sum_data` SimpleAggregateFunction(sum, Float64),\n    `num_data` SimpleAggregateFunction(sum, Int64),\n    `squaresum_data` SimpleAggregateFunction(sum, Float64),\n    `avg_sample_interval` Float64,\n    `max_sample_interval` SimpleAggregateFunction(max, Float64),\n    `min_sample_interval` SimpleAggregateFunction(min, Float64),\n    `sum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `num_sample_interval` SimpleAggregateFunction(sum, Int64),\n    `squaresum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `avg_speed` Float64,\n    `max_speed` SimpleAggregateFunction(max, Float64),\n    `min_speed` SimpleAggregateFunction(min, Float64),\n    `sum_speed` SimpleAggregateFunction(sum, Float64),\n    `num_speed` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_x` Float64,\n    `max_speed_x` SimpleAggregateFunction(max, Float64),\n    `min_speed_x` SimpleAggregateFunction(min, Float64),\n    `sum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `num_speed_x` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_y` Float64,\n    `max_speed_y` SimpleAggregateFunction(max, Float64),\n    `min_speed_y` SimpleAggregateFunction(min, Float64),\n    `sum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `num_speed_y` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_z` Float64,\n    `max_speed_z` SimpleAggregateFunction(max, Float64),\n    `min_speed_z` SimpleAggregateFunction(min, Float64),\n    `sum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `num_speed_z` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `count` SimpleAggregateFunction(sum, Int64),\n    `start_unix_time` SimpleAggregateFunction(min, Float64),\n    `end_unix_time` SimpleAggregateFunction(max, Float64),\n    `avg_acc` Float64,\n    `max_acc` SimpleAggregateFunction(max, Float64),\n    `min_acc` SimpleAggregateFunction(min, Float64),\n    `sum_acc` SimpleAggregateFunction(sum, Float64),\n    `num_acc` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_peek_to_peek` Float64,\n    `max_acc_peek_to_peek` SimpleAggregateFunction(max, Float64),\n    `min_acc_peek_to_peek` SimpleAggregateFunction(min, Float64),\n    `sum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `num_acc_peek_to_peek` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_max_abs` Float64,\n    `max_acc_max_abs` SimpleAggregateFunction(max, Float64),\n    `min_acc_max_abs` SimpleAggregateFunction(min, Float64),\n    `sum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `num_acc_max_abs` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `avg_freq` Float64,\n    `max_freq` SimpleAggregateFunction(max, Float64),\n    `min_freq` SimpleAggregateFunction(min, Float64),\n    `sum_freq` SimpleAggregateFunction(sum, Float64),\n    `num_freq` SimpleAggregateFunction(sum, Int64),\n    `squaresum_freq` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_rms` Float64,\n    `max_acc_rms` SimpleAggregateFunction(max, Float64),\n    `min_acc_rms` SimpleAggregateFunction(min, Float64),\n    `sum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `num_acc_rms` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_level` Float64,\n    `max_acc_level` SimpleAggregateFunction(max, Float64),\n    `min_acc_level` SimpleAggregateFunction(min, Float64),\n    `sum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `num_acc_level` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `uuid` String,\n    `debug_session_id` String,\n    `manual_batch_id` String\n)\nENGINE = ReplicatedAggregatingMergeTree('/clickhouse/{layer}-{shard}/tables/\"tzgjq20211109\".VibrationData_materialized_local', '{replica}')\nPARTITION BY toYYYYMM(minute_unix_time)\nORDER BY (module_name, sensor_id, node_id, channel, minute_unix_time)\nSETTINGS index_granularity = 8192\n")),(0,t.kt)("p",null,"clickhouse03\u4e2d\u64cd\u4f5c"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"##\u5148\u5220\u9664\u8868\uff0c\u8fd9\u4e2a\u65f6\u5019\u53e6\u5916\u4e00\u4e2a\u8282\u70b9\u526f\u672c\u4e0d\u4f1a\u5220\u9664\u7684\ndrop table tzgjq20211109.VibrationData_materialized_local\n\n\n##\u7136\u540e\u4ececlickhouse04\u62ff\u8fc7\u6765\u521b\u5efa\u547d\u4ee4\u521b\u5efa\u8868\nCREATE TABLE tzgjq20211109.VibrationData_materialized_local\n(\n    `packet_name` String,\n    `node_id` String,\n    `gateway_id` String,\n    `minute_unix_time` DateTime,\n    `channel` String,\n    `err_comment` String,\n    `project_name` String,\n    `module_name` String,\n    `sensor_id` String,\n    `ver` UInt32,\n    `avg_data` Float64,\n    `max_data` SimpleAggregateFunction(max, Float64),\n    `min_data` SimpleAggregateFunction(min, Float64),\n    `sum_data` SimpleAggregateFunction(sum, Float64),\n    `num_data` SimpleAggregateFunction(sum, Int64),\n    `squaresum_data` SimpleAggregateFunction(sum, Float64),\n    `avg_sample_interval` Float64,\n    `max_sample_interval` SimpleAggregateFunction(max, Float64),\n    `min_sample_interval` SimpleAggregateFunction(min, Float64),\n    `sum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `num_sample_interval` SimpleAggregateFunction(sum, Int64),\n    `squaresum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `avg_speed` Float64,\n    `max_speed` SimpleAggregateFunction(max, Float64),\n    `min_speed` SimpleAggregateFunction(min, Float64),\n    `sum_speed` SimpleAggregateFunction(sum, Float64),\n    `num_speed` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_x` Float64,\n    `max_speed_x` SimpleAggregateFunction(max, Float64),\n    `min_speed_x` SimpleAggregateFunction(min, Float64),\n    `sum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `num_speed_x` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_y` Float64,\n    `max_speed_y` SimpleAggregateFunction(max, Float64),\n    `min_speed_y` SimpleAggregateFunction(min, Float64),\n    `sum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `num_speed_y` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_z` Float64,\n    `max_speed_z` SimpleAggregateFunction(max, Float64),\n    `min_speed_z` SimpleAggregateFunction(min, Float64),\n    `sum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `num_speed_z` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `count` SimpleAggregateFunction(sum, Int64),\n    `start_unix_time` SimpleAggregateFunction(min, Float64),\n    `end_unix_time` SimpleAggregateFunction(max, Float64),\n    `avg_acc` Float64,\n    `max_acc` SimpleAggregateFunction(max, Float64),\n    `min_acc` SimpleAggregateFunction(min, Float64),\n    `sum_acc` SimpleAggregateFunction(sum, Float64),\n    `num_acc` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_peek_to_peek` Float64,\n    `max_acc_peek_to_peek` SimpleAggregateFunction(max, Float64),\n    `min_acc_peek_to_peek` SimpleAggregateFunction(min, Float64),\n    `sum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `num_acc_peek_to_peek` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_max_abs` Float64,\n    `max_acc_max_abs` SimpleAggregateFunction(max, Float64),\n    `min_acc_max_abs` SimpleAggregateFunction(min, Float64),\n    `sum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `num_acc_max_abs` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `avg_freq` Float64,\n    `max_freq` SimpleAggregateFunction(max, Float64),\n    `min_freq` SimpleAggregateFunction(min, Float64),\n    `sum_freq` SimpleAggregateFunction(sum, Float64),\n    `num_freq` SimpleAggregateFunction(sum, Int64),\n    `squaresum_freq` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_rms` Float64,\n    `max_acc_rms` SimpleAggregateFunction(max, Float64),\n    `min_acc_rms` SimpleAggregateFunction(min, Float64),\n    `sum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `num_acc_rms` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_level` Float64,\n    `max_acc_level` SimpleAggregateFunction(max, Float64),\n    `min_acc_level` SimpleAggregateFunction(min, Float64),\n    `sum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `num_acc_level` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `uuid` String,\n    `debug_session_id` String,\n    `manual_batch_id` String\n)\nENGINE = ReplicatedAggregatingMergeTree('/clickhouse/{layer}-{shard}/tables/\"tzgjq20211109\".VibrationData_materialized_local', '{replica}')\nPARTITION BY toYYYYMM(minute_unix_time)\nORDER BY (module_name, sensor_id, node_id, channel, minute_unix_time)\nSETTINGS index_granularity = 8192\n\nQuery id: e40b3097-2a2b-47ae-ba89-12ca27528a10\n\n\n0 rows in set. Elapsed: 0.029 sec. \n\nReceived exception from server (version 23.4.2):\nCode: 253. DB::Exception: Received from 127.0.0.1:9000. DB::Exception: Replica /clickhouse/01-02/tables/\"tzgjq20211109\".VibrationData_materialized_local/replicas/ekc03 already exists. (REPLICA_ALREADY_EXISTS)\n\n")),(0,t.kt)("p",null,"\u4e0a\u9762\u63d0\u793a\u9519\u8bef\uff0cclickhouse\u9ed8\u8ba4\u7684\u5e93\u5f15\u64ce\u662f\u539f\u5b50\u6570\u636e\u5e93\u5f15\u64ce\uff0c\u5220\u9664",(0,t.kt)("a",{parentName:"p",href:"https://so.csdn.net/so/search?q=Atomic&spm=1001.2101.3001.7020"},"Atomic"),"\u6570\u636e\u5e93\u4e2d\u7684\u8868\u540e\uff0c\u5b83\u4e0d\u4f1a\u7acb\u5373\u5220\u9664\uff0c\u800c\u662f\u4f1a\u5728480\u79d2\u540e\u5220\u9664\u3002\u7531\u4e0b\u9762\u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"<database_atomic_delay_before_drop_table_sec>480</database_atomic_delay_before_drop_table_sec>\n")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6cd5")),(0,t.kt)("p",null,"1.\u4fee\u6539config.xml\u7684\u914d\u7f6edatabase_atomic_delay_before_drop_table_sec\u4e3a0"),(0,t.kt)("p",null,"2.\u6700\u539f\u59cb\u65b9\u6cd5\uff0c\u7b49\u5f85480\u79d2\u540e\u518d\u91cd\u65b0\u5efa\u8868"),(0,t.kt)("p",null,"\u4e3a\u4e86\u4fdd\u9669\u8d77\u89c1\uff0c\u6211\u7528\u7684\u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0c\u518d\u6b21\u521b\u5efa\u6210\u529f\uff0c\u4e0d\u5efa\u8bae\u4fee\u6539\u914d\u7f6e"),(0,t.kt)("p",null,"\u7b49\u5f85\u4e86\u597d\u957f\u65f6\u95f4\uff0c\u5728\u6b64\u521b\u5efa\uff0c\u521b\u5efa\u6210\u529f"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"clickhouse03 :) CREATE TABLE tzgjq20211109.VibrationData_materialized_local\n(\n    `packet_name` String,\n    `node_id` String,\n    `gateway_id` String,\n    `minute_unix_time` DateTime,\n    `channel` String,\n    `err_comment` String,\n    `project_name` String,\n    `module_name` String,\n    `sensor_id` String,\n    `ver` UInt32,\n    `avg_data` Float64,\n    `max_data` SimpleAggregateFunction(max, Float64),\n    `min_data` SimpleAggregateFunction(min, Float64),\n    `sum_data` SimpleAggregateFunction(sum, Float64),\n    `num_data` SimpleAggregateFunction(sum, Int64),\n    `squaresum_data` SimpleAggregateFunction(sum, Float64),\n    `avg_sample_interval` Float64,\n    `max_sample_interval` SimpleAggregateFunction(max, Float64),\n    `min_sample_interval` SimpleAggregateFunction(min, Float64),\n    `sum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `num_sample_interval` SimpleAggregateFunction(sum, Int64),\n    `squaresum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `avg_speed` Float64,\n    `max_speed` SimpleAggregateFunction(max, Float64),\n    `min_speed` SimpleAggregateFunction(min, Float64),\n    `sum_speed` SimpleAggregateFunction(sum, Float64),\n    `num_speed` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_x` Float64,\n    `max_speed_x` SimpleAggregateFunction(max, Float64),\n    `min_speed_x` SimpleAggregateFunction(min, Float64),\n    `sum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `num_speed_x` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_y` Float64,\n    `max_speed_y` SimpleAggregateFunction(max, Float64),\n    `min_speed_y` SimpleAggregateFunction(min, Float64),\n    `sum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `num_speed_y` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_z` Float64,\n    `max_speed_z` SimpleAggregateFunction(max, Float64),\n    `min_speed_z` SimpleAggregateFunction(min, Float64),\n    `sum_speed_zCREATE TABLE tzgjq20211109.VibrationData_materialized_local\n(\n    `packet_name` String,\n    `node_id` String,\n    `gateway_id` String,\n    `minute_unix_time` DateTime,\n    `channel` String,\n    `err_comment` String,\n    `project_name` String,\n    `module_name` String,\n    `sensor_id` String,\n    `ver` UInt32,\n    `avg_data` Float64,\n    `max_data` SimpleAggregateFunction(max, Float64),\n    `min_data` SimpleAggregateFunction(min, Float64),\n    `sum_data` SimpleAggregateFunction(sum, Float64),\n    `num_data` SimpleAggregateFunction(sum, Int64),\n    `squaresum_data` SimpleAggregateFunction(sum, Float64),\n    `avg_sample_interval` Float64,\n    `max_sample_interval` SimpleAggregateFunction(max, Float64),\n    `min_sample_interval` SimpleAggregateFunction(min, Float64),\n    `sum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `num_sample_interval` SimpleAggregateFunction(sum, Int64),\n    `squaresum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `avg_speed` Float64,\n    `max_speed` SimpleAggregateFunction(max, Float64),\n    `min_speed` SimpleAggregateFunction(min, Float64),\n    `sum_speed` SimpleAggregateFunction(sum, Float64),\n    `num_speed` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_x` Float64,\n    `max_speed_x` SimpleAggregateFunction(max, Float64),\n    `min_speed_x` SimpleAggregateFunction(min, Float64),\n    `sum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `num_speed_x` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_y` Float64,\n    `max_speed_y` SimpleAggregateFunction(max, Float64),\n    `min_speed_y` SimpleAggregateFunction(min, Float64),\n    `sum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `num_speed_y` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_z` Float64,\n    `max_speed_z` SimpleAggregateFunction(max, Float64),\n    `min_speed_z` SimpleAggregateFunction(min, Float64),\n    `sum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `num_speed_z` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `count` SimpleAggregateFunction(sum, Int64),\n    `start_unix_time` SimpleAggregateFunction(min, Float64),\n    `end_unix_time` SimpleAggregateFunction(max, Float64),\n    `avg_acc` Float64,\n    `max_acc` SimpleAggregateFunction(max, Float64),\n    `min_acc` SimpleAggregateFunction(min, Float64),\n    `sum_acc` SimpleAggregateFunction(sum, Float64),\n    `num_acc` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_peek_to_peek` Float64,\n    `max_acc_peek_to_peek` SimpleAggregateFunction(max, Float64),\n    `min_acc_peek_to_peek` SimpleAggregateFunction(min, Float64),\n    `sum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `num_acc_peek_to_peek` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_max_abs` Float64,\n    `max_acc_max_abs` SimpleAggregateFunction(max, Float64),\n    `min_acc_max_abs` SimpleAggregateFunction(min, Float64),\n    `sum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `num_acc_max_abs` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `avg_freq` Float64,\n    `max_freq` SimpleAggregateFunction(max, Float64),\n    `min_freq` SimpleAggregateFunction(min, Float64),\n    `sum_freq` SimpleAggregateFunction(sum, Float64),\n    `num_freq` SimpleAggregateFunction(sum, Int64),\n    `squaresum_freq` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_rms` Float64,\n    `max_acc_rms` SimpleAggregateFunction(max, Float64),\n    `min_acc_rms` SimpleAggregateFunction(min, Float64),\n    `sum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `num_acc_rms` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_level` Float64,\n    `max_acc_level` SimpleAggregateFunction(max, Float64),\n    `min_acc_level` SimpleAggregateFunction(min, Float64),\n    `sum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `num_acc_level` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `uuid` String,\n    `debug_session_id` String,\n    `manual_batch_id` String\n)\nENGINE = ReplicatedAggregatingMergeTree('/clickhouse/{layer}-{shard}/tables/\"tzgjq20211109\".VibrationData_materialized_local', '{replica}')\nPARTITION BY toYYYYMM(minute_unix_time)\nORDER BY (module_name, sensor_id, node_id, channel, minute_unix_time)\nSETTINGS index_granularity = 8192\n\nCREATE TABLE tzgjq20211109.VibrationData_materialized_local\n(\n    `packet_name` String,\n    `node_id` String,\n    `gateway_id` String,\n    `minute_unix_time` DateTime,\n    `channel` String,\n    `err_comment` String,\n    `project_name` String,\n    `module_name` String,\n    `sensor_id` String,\n    `ver` UInt32,\n    `avg_data` Float64,\n    `max_data` SimpleAggregateFunction(max, Float64),\n    `min_data` SimpleAggregateFunction(min, Float64),\n    `sum_data` SimpleAggregateFunction(sum, Float64),\n    `num_data` SimpleAggregateFunction(sum, Int64),\n    `squaresum_data` SimpleAggregateFunction(sum, Float64),\n    `avg_sample_interval` Float64,\n    `max_sample_interval` SimpleAggregateFunction(max, Float64),\n    `min_sample_interval` SimpleAggregateFunction(min, Float64),\n    `sum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `num_sample_interval` SimpleAggregateFunction(sum, Int64),\n    `squaresum_sample_interval` SimpleAggregateFunction(sum, Float64),\n    `avg_speed` Float64,\n    `max_speed` SimpleAggregateFunction(max, Float64),\n    `min_speed` SimpleAggregateFunction(min, Float64),\n    `sum_speed` SimpleAggregateFunction(sum, Float64),\n    `num_speed` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_x` Float64,\n    `max_speed_x` SimpleAggregateFunction(max, Float64),\n    `min_speed_x` SimpleAggregateFunction(min, Float64),\n    `sum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `num_speed_x` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_x` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_y` Float64,\n    `max_speed_y` SimpleAggregateFunction(max, Float64),\n    `min_speed_y` SimpleAggregateFunction(min, Float64),\n    `sum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `num_speed_y` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_y` SimpleAggregateFunction(sum, Float64),\n    `avg_speed_z` Float64,\n    `max_speed_z` SimpleAggregateFunction(max, Float64),\n    `min_speed_z` SimpleAggregateFunction(min, Float64),\n    `sum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `num_speed_z` SimpleAggregateFunction(sum, Int64),\n    `squaresum_speed_z` SimpleAggregateFunction(sum, Float64),\n    `count` SimpleAggregateFunction(sum, Int64),\n    `start_unix_time` SimpleAggregateFunction(min, Float64),\n    `end_unix_time` SimpleAggregateFunction(max, Float64),\n    `avg_acc` Float64,\n    `max_acc` SimpleAggregateFunction(max, Float64),\n    `min_acc` SimpleAggregateFunction(min, Float64),\n    `sum_acc` SimpleAggregateFunction(sum, Float64),\n    `num_acc` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_peek_to_peek` Float64,\n    `max_acc_peek_to_peek` SimpleAggregateFunction(max, Float64),\n    `min_acc_peek_to_peek` SimpleAggregateFunction(min, Float64),\n    `sum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `num_acc_peek_to_peek` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_peek_to_peek` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_max_abs` Float64,\n    `max_acc_max_abs` SimpleAggregateFunction(max, Float64),\n    `min_acc_max_abs` SimpleAggregateFunction(min, Float64),\n    `sum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `num_acc_max_abs` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_max_abs` SimpleAggregateFunction(sum, Float64),\n    `avg_freq` Float64,\n    `max_freq` SimpleAggregateFunction(max, Float64),\n    `min_freq` SimpleAggregateFunction(min, Float64),\n    `sum_freq` SimpleAggregateFunction(sum, Float64),\n    `num_freq` SimpleAggregateFunction(sum, Int64),\n    `squaresum_freq` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_rms` Float64,\n    `max_acc_rms` SimpleAggregateFunction(max, Float64),\n    `min_acc_rms` SimpleAggregateFunction(min, Float64),\n    `sum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `num_acc_rms` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_rms` SimpleAggregateFunction(sum, Float64),\n    `avg_acc_level` Float64,\n    `max_acc_level` SimpleAggregateFunction(max, Float64),\n    `min_acc_level` SimpleAggregateFunction(min, Float64),\n    `sum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `num_acc_level` SimpleAggregateFunction(sum, Int64),\n    `squaresum_acc_level` SimpleAggregateFunction(sum, Float64),\n    `uuid` String,\n    `debug_session_id` String,\n    `manual_batch_id` String\n)\nENGINE = ReplicatedAggregatingMergeTree('/clickhouse/{layer}-{shard}/tables/\"tzgjq20211109\".VibrationData_materialized_local', '{replica}')\nPARTITION BY toYYYYMM(minute_unix_time)\nORDER BY (module_name, sensor_id, node_id, channel, minute_unix_time)\nSETTINGS index_granularity = 8192\n\nQuery id: 90e221e6-6fce-4391-829d-d7651c6f1855\n\nOk.\n\n0 rows in set. Elapsed: 0.100 sec. \n\n")),(0,t.kt)("h4",{id:"27\u6570\u636e\u6bd4\u5bf9"},"2.7\u3001\u6570\u636e\u6bd4\u5bf9"),(0,t.kt)("p",null,"clickhouse03\u8282\u70b9\uff0c\u67e5\u770b\u6570\u636e\u91cf"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224232741770.png",alt:null})),(0,t.kt)("p",null,"clickhouse04\u8282\u70b9\uff0c\u67e5\u770b\u6570\u636e\u91cf"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231224232827679.png",alt:"image-20231224232827679"})),(0,t.kt)("p",null,"\u76ee\u524d\u6765\u770b\u6570\u636e\u5df2\u7ecf\u540c\u6b65"),(0,t.kt)("p",null,"\u67e5\u8be2\u54ea\u4e9b\u526f\u672c\u8868\u5904\u4e8ereadonly\u72b6\u6001\uff1a(\u4e00\u822c\u5728zk\u4e2d\u90e8\u5206\u526f\u672c\u5143\u6570\u636e\u4e22\u5931)"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"select table,zookeeper_path,replica_path from `system`.replicas where is_readonly\nsystem restore replica dyhhgldq20231120.TempHumiContData_local   on cluster sb_2shards_2replicas  #\u8fd9\u4e2a\u4f1a\u5728\u6240\u6709\u8282\u70b9\u6267\u884c\uff0c\u53ea\u6709zk\u6302\u4e86\uff0c\u90fd\u4e22\u6570\u636e\u4e86\u624d\u80fd\u6267\u884c\uff0c\u6b64\u5904\u7528\u4e0d\u5230\n")),(0,t.kt)("h3",{id:"3\u540c\u6b65\u60c5\u51b5"},"3\u3001\u540c\u6b65\u60c5\u51b5"),(0,t.kt)("table",null,(0,t.kt)("thead",{parentName:"table"},(0,t.kt)("tr",{parentName:"thead"},(0,t.kt)("th",{parentName:"tr",align:"center"},"\u540c\u6b65\u6570\u636e\u91cf"),(0,t.kt)("th",{parentName:"tr",align:"center"},"\u6240\u7528\u65f6\u95f4"),(0,t.kt)("th",{parentName:"tr",align:"center"},"\u540c\u6b65\u65b9\u5f0f"))),(0,t.kt)("tbody",{parentName:"table"},(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:"center"},"6T"),(0,t.kt)("td",{parentName:"tr",align:"center"},"13-14H"),(0,t.kt)("td",{parentName:"tr",align:"center"},"\u590d\u5236\u8868")),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:"center"}),(0,t.kt)("td",{parentName:"tr",align:"center"}),(0,t.kt)("td",{parentName:"tr",align:"center"})),(0,t.kt)("tr",{parentName:"tbody"},(0,t.kt)("td",{parentName:"tr",align:"center"}),(0,t.kt)("td",{parentName:"tr",align:"center"}),(0,t.kt)("td",{parentName:"tr",align:"center"})))),(0,t.kt)("p",null,"\u6570\u636e\u540c\u6b65\u65f6\u523b\u7684\u76d1\u63a7\u56fe\uff1a"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231225010159381.png",alt:"image-20231225010159381"})),(0,t.kt)("p",null,"\u6574\u4f53\u6570\u636e\u5360\u7528\u7a7a\u95f4\u60c5\u51b5:"),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://iteshell.oss-cn-beijing.aliyuncs.com/bookshell/operator/image-20231225005202562.png",alt:null})))}h.isMDXComponent=!0}}]);